"use strict";var e=require("react"),t=require("react-dom/client"),n=require("@lexical/link"),r=require("@lexical/list"),i=require("@lexical/react/LexicalComposer"),a=require("@lexical/rich-text"),o=require("lexical"),l=require("@lexical/react/LexicalHistoryPlugin"),c=require("@lexical/react/LexicalAutoFocusPlugin"),s=require("@lexical/react/LexicalCheckListPlugin"),u=require("@lexical/react/LexicalClearEditorPlugin"),d=require("@lexical/react/LexicalHashtagPlugin"),m=require("@lexical/react/LexicalLinkPlugin"),p=require("@lexical/react/LexicalListPlugin"),f=require("@lexical/react/LexicalTablePlugin"),g=require("@lexical/code"),h=require("@lexical/react/LexicalComposerContext"),v=require("react-dom"),y=require("@lexical/selection"),E=require("@lexical/utils"),b=require("@lexical/react/LexicalAutoLinkPlugin");require("katex/dist/katex.css");for(var C,N=((C=require("katex"))&&"object"==typeof C&&"default"in C?C.default:C),w=require("@lexical/react/useLexicalNodeSelection"),_=require("@excalidraw/excalidraw"),x=require("@lexical/react/LexicalHorizontalRuleNode"),k=require("@lexical/react/LexicalNestedComposer"),T=require("@lexical/react/useLexicalTextEntity"),S=require("@lexical/table"),O=require("@lexical/react/LexicalDecoratorBlockNode"),R=require("@lexical/react/LexicalBlockWithAlignableContents"),M=require("@lexical/hashtag"),L=require("@lexical/mark"),A=require("@lexical/overflow"),P=window.location.hostname,D="playground.lexical.dev"!==P&&"lexical-playground.vercel.app"!==P,I={disableBeforeInput:!1,emptyEditor:D,isAutocomplete:!1,isCharLimit:!1,isCharLimitUtf8:!1,isCollab:!1,isMaxLength:!1,isRichText:!0,measureTypingPerf:!1,showNestedEditorTreeView:!1,showTreeView:!0},$=new URLSearchParams(window.location.search),F=0,q=Object.keys(I);F<q.length;F++){var B=q[F];if($.has(B))try{var z,K=JSON.parse(null!=(z=$.get(B))?z:"true");I[B]=Boolean(K)}catch(e){console.warn('Unable to parse query parameter "'+B+'"')}}function H(){H=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=Object.create((t&&t.prototype instanceof h?t:h).prototype),o=new O(r||[]);return i(a,"_invoke",{value:x(e,n,o)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="executing",f="completed",g={};function h(){}function v(){}function y(){}var E={};s(E,o,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(R([])));C&&C!==n&&r.call(C,o)&&(E=C);var N=y.prototype=h.prototype=Object.create(E);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function x(t,n,r){var i=m;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=k(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(t,n,r);if("normal"===s.type){if(i=r.done?f:"suspendedYield",s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=f,r.method="throw",r.arg=s.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=y,i(N,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},w(_.prototype),s(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(N),s(N,c,"Generator"),s(N,o,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function W(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){W(a,r,i,o,l,"next",e)}function l(e){W(a,r,i,o,l,"throw",e)}o(void 0)}))}}function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){var n,r;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n=e,r=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(n,r)}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}I.disableBeforeInput&&delete window.InputEvent.prototype.getTargetRanges;var V=e.createContext({setOption:function(e,t){},settings:I}),X=function(t){var n=t.children,r=e.useState(I),i=r[0],a=r[1],o=e.useCallback((function(e,t){a((function(n){var r;return Y({},n,((r={})[e]=t,r))})),function(e,t){var n=new URL(window.location.href),r=new URLSearchParams(n.search);null!==t?r.has(e)?r.set(e,String(t)):r.append(e,String(t)):r.has(e)&&r.delete(e),n.search=r.toString(),window.history.pushState(null,"",n.toString())}(e,I[e]===t?null:t)}),[]),l=e.useMemo((function(){return{setOption:o,settings:i}}),[o,i]);return e.createElement(V.Provider,{value:l},n)},Z=function(){return e.useContext(V)},Q=e.createContext({}),ee=function(t){var n=t.children,r=e.useMemo((function(){return{historyState:l.createEmptyHistoryState()}}),[]);return e.createElement(Q.Provider,{value:r},n)},te=function(){return e.useContext(Q)};function ne(t){var n=t.onClose,r=t.children,i=t.title,a=t.closeOnClickOutside,o=e.useRef(null);return e.useEffect((function(){null!==o.current&&o.current.focus()}),[]),e.useEffect((function(){var e,t,r=null,i=function(e){27===e.keyCode&&n()},l=function(e){null!==o.current&&!o.current.contains(e.target)&&a&&n()};return null!==o.current&&null!==(r=null==(e=o.current)?void 0:e.parentElement)&&(null==(t=r)||t.addEventListener("click",l)),window.addEventListener("keydown",i),function(){var e;window.removeEventListener("keydown",i),null!==r&&(null==(e=r)||e.removeEventListener("click",l))}}),[a,n]),e.createElement("div",{className:"Modal__overlay",role:"dialog"},e.createElement("div",{className:"Modal__modal",tabIndex:-1,ref:o},e.createElement("h2",{className:"Modal__title"},i),e.createElement("button",{className:"Modal__closeButton","aria-label":"Close modal",type:"button",onClick:n},"X"),e.createElement("div",{className:"Modal__content"},r)))}function re(t){var n=t.closeOnClickOutside;return v.createPortal(e.createElement(ne,{onClose:t.onClose,title:t.title,closeOnClickOutside:void 0!==n&&n},t.children),document.body)}function ie(){var t=e.useState(null),n=t[0],r=t[1],i=e.useCallback((function(){r(null)}),[]);return[e.useMemo((function(){return null===n?null:e.createElement(re,{onClose:i,title:n.title,closeOnClickOutside:n.closeOnClickOutside},n.content)}),[n,i]),e.useCallback((function(e,t,n){void 0===n&&(n=!1),r({closeOnClickOutside:n,content:t(i),title:e})}),[i])]}function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function oe(t){var n=t["data-test-id"],r=t.children,i=t.onClick,a=t.disabled,o=t.title;return e.createElement("button",Object.assign({disabled:a,className:ae("Button__root",a&&"Button__disabled",t.small&&"Button__small",t.className),onClick:i,title:o,"aria-label":o},n&&{"data-test-id":n}),r)}function le(t){var n=h.useLexicalComposerContext()[0],r=(e.useState(!1),e.useState(!1),e.useState(!0)),i=r[0],a=r[1],l=ie(),c=l[0],s=l[1];e.useEffect((function(){return n.registerUpdateListener((function(){n.getEditorState().read((function(){var e=o.$getRoot().getChildren();if(e.length>1)a(!1);else if(o.$isParagraphNode(e[0])){var t=e[0].getChildren();a(0===t.length)}else a(!1)}))}))}),[n]);var u=e.useCallback((function(){n.update((function(){var e=o.$getRoot(),t=e.getFirstChild();g.$isCodeNode(t)&&t.getLanguage(),e.selectEnd()}))}),[n]);return e.createElement("div",{className:"actions"},e.createElement("button",{className:"action-button clear",disabled:i,onClick:function(){s("Clear editor",(function(t){return e.createElement(ce,{editor:n,onClose:t})}))},title:"Clear","aria-label":"Clear editor contents"},e.createElement("i",{className:"clear"})),e.createElement("button",{className:"action-button",onClick:u,title:"Convert From Markdown","aria-label":"Convert from markdown"},e.createElement("i",{className:"markdown"})),c)}function ce(t){var n=t.editor,r=t.onClose;return e.createElement(e.Fragment,null,"Are you sure you want to clear the editor?",e.createElement("div",{className:"Modal__content"},e.createElement(oe,{onClick:function(){n.focus(),r()}},"Cancel")))}var se=function(t){function n(e,n){var r;return(r=t.call(this,n)||this).__uuid=e,r}J(n,t),n.clone=function(e){return new n(e.__key)},n.getType=function(){return"autocomplete"},n.importJSON=function(e){return ue(e.uuid)};var r=n.prototype;return r.exportJSON=function(){return Y({},t.prototype.exportJSON.call(this),{type:"autocomplete",uuid:this.__uuid,version:1})},r.updateDOM=function(e,t,n){return!1},r.createDOM=function(e){return document.createElement("span")},r.decorate=function(){return this.__uuid!==ge?null:e.createElement(de,null)},n}(o.DecoratorNode);function ue(e){return new se(e)}function de(){return e.createElement("span",{style:{color:"#ccc"},spellCheck:"false"})}var me=new WeakMap;function pe(e){var t=e.changedTouches[0];return void 0===t?null:[t.clientX,t.clientY]}function fe(e,t){var n=me.get(e);if(void 0===n){var r=new Set,i=function(e){void 0!==n&&(n.start=pe(e))},a=function(e){if(void 0!==n){var t=n.start;if(null!==t)for(var i,a=pe(e),o=U(r);!(i=o()).done;)null!==a&&(0,i.value)([a[0]-t[0],a[1]-t[1]],e)}};e.addEventListener("touchstart",i),e.addEventListener("touchend",a),me.set(e,n={handleTouchend:a,handleTouchstart:i,listeners:r,start:null})}return n.listeners.add(t),function(){return function(e,t){var n=me.get(e);if(void 0!==n){var r=n.listeners;r.delete(t),0===r.size&&(me.delete(e),e.removeEventListener("touchstart",n.handleTouchstart),e.removeEventListener("touchend",n.handleTouchend))}}(e,t)}}var ge=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);function he(){var t=h.useLexicalComposerContext()[0],n=e.useCallback((function(e){var t=new ve;console.time("query");var n=t.query(e);return console.timeEnd("query"),n}),[]);return e.useEffect((function(){function e(e){return!1}var n,r,i=t.getRootElement();return E.mergeRegister.apply(void 0,[t.registerNodeTransform(se,(function(e){e.getKey()})),t.registerUpdateListener((function(){t.update((function(){o.$getSelection()}))})),t.registerCommand(o.KEY_TAB_COMMAND,e,o.COMMAND_PRIORITY_LOW),t.registerCommand(o.KEY_ARROW_RIGHT_COMMAND,e,o.COMMAND_PRIORITY_LOW)].concat(null!==i?[(n=i,r=function(e,n){t.update((function(){}))},fe(n,(function(e,t){var n=e[0];n>0&&n>Math.abs(e[1])&&r()})))]:[],[function(){t.update((function(){}))}]))}),[t,n]),null}var ve=function(){var e=this;this.DATABASE=ye,this.LATENCY=200,this.query=function(t){var n=!1;return{dismiss:function(){n=!0},promise:new Promise((function(r,i){setTimeout((function(){if(n)return i("Dismissed");var a=t.length;if(""===t||a<4)return r(null);var o=t.charCodeAt(0),l=o>=65&&o<=90,c=l?String.fromCharCode(o+32)+t.substring(1):t,s=e.DATABASE.find((function(e){var t;return null!=(t=e.startsWith(c))?t:null}));if(void 0===s)return r(null);var u=(l?String.fromCharCode(s.charCodeAt(0)-32)+s.substring(1):s).substring(a);return r(""===u?null:u)}),e.LATENCY)}))}}},ye=["information","available","copyright","university","management","international","development","education","community","technology","following","resources","including","directory","government","department","description","insurance","different","categories","conditions","accessories","september","questions","application","financial","equipment","performance","experience","important","activities","additional","something","professional","committee","washington","california","reference","companies","computers","president","australia","discussion","entertainment","agreement","marketing","association","collection","solutions","electronics","technical","microsoft","conference","environment","statement","downloads","applications","requirements","individual","subscribe","everything","production","commercial","advertising","treatment","newsletter","knowledge","currently","construction","registered","protection","engineering","published","corporate","customers","materials","countries","standards","political","advertise","environmental","availability","employment","commission","administration","institute","sponsored","electronic","condition","effective","organization","selection","corporation","executive","necessary","according","particular","facilities","opportunities","appropriate","statistics","investment","christmas","registration","furniture","wednesday","structure","distribution","industrial","potential","responsible","communications","associated","foundation","documents","communication","independent","operating","developed","telephone","population","navigation","operations","therefore","christian","understand","publications","worldwide","connection","publisher","introduction","properties","accommodation","excellent","opportunity","assessment","especially","interface","operation","restaurants","beautiful","locations","significant","technologies","manufacturer","providing","authority","considered","programme","enterprise","educational","employees","alternative","processing","responsibility","resolution","publication","relations","photography","components","assistance","completed","organizations","otherwise","transportation","disclaimer","membership","recommended","background","character","maintenance","functions","trademarks","phentermine","submitted","television","interested","throughout","established","programming","regarding","instructions","increased","understanding","beginning","associates","instruments","businesses","specified","restaurant","procedures","relationship","traditional","sometimes","themselves","transport","interesting","evaluation","implementation","galleries","references","presented","literature","respective","definition","secretary","networking","australian","magazines","francisco","individuals","guidelines","installation","described","attention","difference","regulations","certificate","directions","documentation","automotive","successful","communities","situation","publishing","emergency","developing","determine","temperature","announcements","historical","ringtones","difficult","scientific","satellite","particularly","functional","monitoring","architecture","recommend","dictionary","accounting","manufacturing","professor","generally","continued","techniques","permission","generation","component","guarantee","processes","interests","paperback","classifieds","supported","competition","providers","characters","thousands","apartments","generated","administrative","practices","reporting","essential","affiliate","immediately","designated","integrated","configuration","comprehensive","universal","presentation","languages","compliance","improvement","pennsylvania","challenge","acceptance","strategies","affiliates","multimedia","certified","computing","interactive","procedure","leadership","religious","breakfast","developer","approximately","recommendations","comparison","automatically","minnesota","adventure","institutions","assistant","advertisement","headlines","yesterday","determined","wholesale","extension","statements","completely","electrical","applicable","manufacturers","classical","dedicated","direction","basketball","wisconsin","personnel","identified","professionals","advantage","newsletters","estimated","anonymous","miscellaneous","integration","interview","framework","installed","massachusetts","associate","frequently","discussions","laboratory","destination","intelligence","specifications","tripadvisor","residential","decisions","industries","partnership","editorial","expression","provisions","principles","suggestions","replacement","strategic","economics","compatible","apartment","netherlands","consulting","recreation","participants","favorites","translation","estimates","protected","philadelphia","officials","contained","legislation","parameters","relationships","tennessee","representative","frequency","introduced","departments","residents","displayed","performed","administrator","addresses","permanent","agriculture","constitutes","portfolio","practical","delivered","collectibles","infrastructure","exclusive","originally","utilities","philosophy","regulation","reduction","nutrition","recording","secondary","wonderful","announced","prevention","mentioned","automatic","healthcare","maintained","increasing","connected","directors","participation","containing","combination","amendment","guaranteed","libraries","distributed","singapore","enterprises","convention","principal","certification","previously","buildings","household","batteries","positions","subscription","contemporary","panasonic","permalink","signature","provision","certainly","newspaper","liability","trademark","trackback","americans","promotion","conversion","reasonable","broadband","influence","importance","webmaster","prescription","specifically","represent","conservation","louisiana","javascript","marketplace","evolution","certificates","objectives","suggested","concerned","structures","encyclopedia","continuing","interracial","competitive","suppliers","preparation","receiving","accordance","discussed","elizabeth","reservations","playstation","instruction","annotation","differences","establish","expressed","paragraph","mathematics","compensation","conducted","percentage","mississippi","requested","connecticut","personals","immediate","agricultural","supporting","collections","participate","specialist","experienced","investigation","institution","searching","proceedings","transmission","characteristics","experiences","extremely","verzeichnis","contracts","concerning","developers","equivalent","chemistry","neighborhood","variables","continues","curriculum","psychology","responses","circumstances","identification","appliances","elementary","unlimited","printable","enforcement","hardcover","celebrity","chocolate","hampshire","bluetooth","controlled","requirement","authorities","representatives","pregnancy","biography","attractions","transactions","authorized","retirement","financing","efficiency","efficient","commitment","specialty","interviews","qualified","discovery","classified","confidence","lifestyle","consistent","clearance","connections","inventory","converter","organisation","objective","indicated","securities","volunteer","democratic","switzerland","parameter","processor","dimensions","contribute","challenges","recognition","submission","encourage","regulatory","inspection","consumers","territory","transaction","manchester","contributions","continuous","resulting","cambridge","initiative","execution","disability","increases","contractor","examination","indicates","committed","extensive","affordable","candidate","databases","outstanding","perspective","messenger","tournament","consideration","discounts","catalogue","publishers","caribbean","reservation","remaining","depending","expansion","purchased","performing","collected","absolutely","featuring","implement","scheduled","calculator","significantly","temporary","sufficient","awareness","vancouver","contribution","measurement","constitution","packaging","consultation","northwest","classroom","democracy","wallpaper","merchandise","resistance","baltimore","candidates","charlotte","biological","transition","preferences","instrument","classification","physician","hollywood","wikipedia","spiritual","photographs","relatively","satisfaction","represents","pittsburgh","preferred","intellectual","comfortable","interaction","listening","effectively","experimental","revolution","consolidation","landscape","dependent","mechanical","consultants","applicant","cooperation","acquisition","implemented","directories","recognized","notification","licensing","textbooks","diversity","cleveland","investments","accessibility","sensitive","templates","completion","universities","technique","contractors","subscriptions","calculate","alexander","broadcast","converted","anniversary","improvements","specification","accessible","accessory","typically","representation","arrangements","conferences","uniprotkb","consumption","birmingham","afternoon","consultant","controller","ownership","committees","legislative","researchers","unsubscribe","molecular","residence","attorneys","operators","sustainable","philippines","statistical","innovation","employers","definitions","elections","stainless","newspapers","hospitals","exception","successfully","indonesia","primarily","capabilities","recommendation","recruitment","organized","improving","expensive","organisations","explained","programmes","expertise","mechanism","jewellery","eventually","agreements","considering","innovative","conclusion","disorders","collaboration","detection","formation","engineers","proposals","moderator","tutorials","settlement","collectables","fantastic","governments","purchasing","appointed","operational","corresponding","descriptions","determination","animation","productions","telecommunications","instructor","approaches","highlights","designers","melbourne","scientists","blackjack","argentina","possibility","commissioner","dangerous","reliability","unfortunately","respectively","volunteers","attachment","appointment","workshops","hurricane","represented","mortgages","responsibilities","carefully","productivity","investors","underground","diagnosis","principle","vacations","calculated","appearance","incorporated","notebooks","algorithm","valentine","involving","investing","christopher","admission","terrorism","parliament","situations","allocated","corrections","structural","municipal","describes","disabilities","substance","prohibited","addressed","simulation","initiatives","concentration","interpretation","bankruptcy","optimization","substances","discovered","restrictions","participating","exhibition","composition","nationwide","definitely","existence","commentary","limousines","developments","immigration","destinations","necessarily","attribute","apparently","surrounding","mountains","popularity","postposted","coordinator","obviously","fundamental","substantial","progressive","championship","sacramento","impossible","depression","testimonials","memorabilia","cartridge","explanation","cincinnati","subsection","electricity","permitted","workplace","confirmed","wallpapers","infection","eligibility","involvement","placement","observations","vbulletin","subsequent","motorcycle","disclosure","establishment","presentations","undergraduate","occupation","donations","associations","citysearch","radiation","seriously","elsewhere","pollution","conservative","guestbook","effectiveness","demonstrate","atmosphere","experiment","purchases","federation","assignment","chemicals","everybody","nashville","counseling","acceptable","satisfied","measurements","milwaukee","medication","warehouse","shareware","violation","configure","stability","southwest","institutional","expectations","independence","metabolism","personally","excellence","somewhere","attributes","recognize","screening","thumbnail","forgotten","intelligent","edinburgh","obligation","regardless","restricted","republican","merchants","attendance","arguments","amsterdam","adventures","announcement","appreciate","regularly","mechanisms","customize","tradition","indicators","emissions","physicians","complaint","experiments","afghanistan","scholarship","governance","supplements","camcorder","implementing","ourselves","conversation","capability","producing","precision","contributed","reproduction","ingredients","franchise","complaints","promotions","rehabilitation","maintaining","environments","reception","correctly","consequences","geography","appearing","integrity","discrimination","processed","implications","functionality","intermediate","emotional","platforms","overnight","geographic","preliminary","districts","introduce","promotional","chevrolet","specialists","generator","suspension","correction","authentication","communicate","supplement","showtimes","promoting","machinery","bandwidth","probability","dimension","schedules","admissions","quarterly","illustrated","continental","alternate","achievement","limitations","automated","passenger","convenient","orientation","childhood","flexibility","jurisdiction","displaying","encouraged","cartridges","declaration","automation","advantages","preparing","recipient","extensions","athletics","southeast","alternatives","determining","personalized","conditioning","partnerships","destruction","increasingly","migration","basically","conventional","applicants","occupational","adjustment","treatments","camcorders","difficulty","collective","coalition","enrollment","producers","collector","interfaces","advertisers","representing","observation","restoration","convenience","returning","opposition","container","defendant","confirmation","supervisor","peripherals","bestsellers","departure","minneapolis","interactions","intervention","attraction","modification","customized","understood","assurance","happening","amendments","metropolitan","compilation","verification","attractive","recordings","jefferson","gardening","obligations","orchestra","polyphonic","outsourcing","adjustable","allocation","discipline","demonstrated","identifying","alphabetical","dispatched","installing","voluntary","photographer","messaging","constructed","additions","requiring","engagement","refinance","calendars","arrangement","conclusions","bibliography","compatibility","furthermore","cooperative","measuring","jacksonville","headquarters","transfers","transformation","attachments","administrators","personality","facilitate","subscriber","priorities","bookstore","parenting","incredible","commonwealth","pharmaceutical","manhattan","workforce","organizational","portuguese","everywhere","discharge","halloween","hazardous","methodology","housewares","reputation","resistant","democrats","recycling","qualifications","slideshow","variation","transferred","photograph","distributor","underlying","wrestling","photoshop","gathering","projection","mathematical","specialized","diagnostic","indianapolis","corporations","criticism","automobile","confidential","statutory","accommodations","northeast","downloaded","paintings","injection","yorkshire","populations","protective","initially","indicator","eliminate","sunglasses","preference","threshold","venezuela","exploration","sequences","astronomy","translate","announces","compression","establishing","constitutional","perfectly","instantly","litigation","submissions","broadcasting","horizontal","terrorist","informational","ecommerce","suffering","prospective","ultimately","artificial","spectacular","coordination","connector","affiliated","activation","naturally","subscribers","mitsubishi","underwear","potentially","constraints","inclusive","dimensional","considerable","selecting","processors","pantyhose","difficulties","complexity","constantly","barcelona","presidential","documentary","territories","palestinian","legislature","hospitality","procurement","theoretical","exercises","surveillance","protocols","highlight","substitute","inclusion","hopefully","brilliant","evaluated","assignments","termination","households","authentic","montgomery","architectural","louisville","macintosh","movements","amenities","virtually","authorization","projector","comparative","psychological","surprised","genealogy","expenditure","liverpool","connectivity","algorithms","similarly","collaborative","excluding","commander","suggestion","spotlight","investigate","connecting","logistics","proportion","significance","symposium","essentials","protecting","transmitted","screenshots","intensive","switching","correspondence","supervision","expenditures","separation","testimony","celebrities","mandatory","boundaries","syndication","celebration","filtering","luxembourg","offensive","deployment","colleagues","separated","directive","governing","retailers","occasionally","attending","recruiting","instructional","traveling","permissions","biotechnology","prescribed","catherine","reproduced","calculation","consolidated","occasions","equations","exceptional","respondents","considerations","queensland","musicians","composite","unavailable","essentially","designing","assessments","brunswick","sensitivity","preservation","streaming","intensity","technological","syndicate","antivirus","addressing","discounted","bangladesh","constitute","concluded","desperate","demonstration","governmental","manufactured","graduation","variations","addiction","springfield","synthesis","undefined","unemployment","enhancement","newcastle","performances","societies","brazilian","identical","petroleum","norwegian","retention","exchanges","soundtrack","wondering","profession","separately","physiology","collecting","participant","scholarships","recreational","dominican","friendship","expanding","provincial","investigations","medications","rochester","advertiser","encryption","downloadable","sophisticated","possession","laboratories","vegetables","thumbnails","stockings","respondent","destroyed","manufacture","wordpress","vulnerability","accountability","celebrate","accredited","appliance","compressed","scheduling","perspectives","mortality","christians","therapeutic","impressive","accordingly","architect","challenging","microwave","accidents","relocation","contributors","violations","temperatures","competitions","discretion","cosmetics","repository","concentrations","christianity","negotiations","realistic","generating","christina","congressional","photographic","modifications","millennium","achieving","fisheries","exceptions","reactions","macromedia","companion","divisions","additionally","fellowship","victorian","copyrights","lithuania","mastercard","chronicles","obtaining","distribute","decorative","enlargement","campaigns","conjunction","instances","indigenous","validation","corruption","incentives","cholesterol","differential","scientist","starsmerchant","arthritis","nevertheless","practitioners","transcript","inflation","compounds","contracting","structured","reasonably","graduates","recommends","controlling","distributors","arlington","particles","extraordinary","indicating","coordinate","exclusively","limitation","widescreen","illustration","construct","inquiries","inspiration","affecting","downloading","aggregate","forecasts","complicated","shopzilla","decorating","expressions","shakespeare","connectors","conflicts","travelers","offerings","incorrect","furnishings","guatemala","perception","renaissance","pathology","ordinance","photographers","infections","configured","festivals","possibilities","contributing","analytical","circulation","assumption","jerusalem","transexuales","invention","technician","executives","enquiries","cognitive","exploring","registrar","supporters","withdrawal","predicted","saskatchewan","cancellation","ministers","veterinary","prostores","relevance","incentive","butterfly","mechanics","numerical","reflection","accompanied","invitation","princeton","spirituality","meanwhile","proprietary","childrens","thumbzilla","porcelain","pichunter","translated","columnists","consensus","delivering","journalism","intention","undertaken","statewide","semiconductor","illustrations","happiness","substantially","identifier","calculations","conducting","accomplished","calculators","impression","correlation","fragrance","neighbors","transparent","charleston","champions","selections","projectors","inappropriate","comparing","vocational","pharmacies","introducing","appreciated","albuquerque","distinguished","projected","assumptions","shareholders","developmental","regulated","anticipated","completing","comparable","confusion","copyrighted","warranties","documented","paperbacks","keyboards","vulnerable","reflected","respiratory","notifications","transexual","mainstream","evaluating","subcommittee","maternity","journalists","foundations","volleyball","liabilities","decreased","tolerance","creativity","describing","lightning","quotations","inspector","bookmarks","behavioral","riverside","bathrooms","abilities","initiated","nonprofit","lancaster","suspended","containers","attitudes","simultaneously","integrate","sociology","screenshot","exhibitions","confident","retrieved","officially","consortium","recipients","delicious","traditions","periodically","hungarian","referring","transform","educators","vegetable","humanities","independently","alignment","henderson","britannica","competitors","visibility","consciousness","encounter","resolutions","accessing","attempted","witnesses","administered","strengthen","frederick","aggressive","advertisements","sublimedirectory","disturbed","determines","sculpture","motivation","pharmacology","passengers","quantities","petersburg","consistently","powerpoint","obituaries","punishment","appreciation","subsequently","providence","restriction","incorporate","backgrounds","treasurer","lightweight","transcription","complications","scripting","remembered","synthetic","testament","specifics","partially","wilderness","generations","tournaments","sponsorship","headphones","proceeding","volkswagen","uncertainty","breakdown","reconstruction","subsidiary","strengths","encouraging","furnished","terrorists","comparisons","beneficial","distributions","viewpicture","threatened","republicans","discusses","responded","abstracts","prediction","pharmaceuticals","thesaurus","individually","battlefield","literally","ecological","appraisal","consisting","submitting","citations","geographical","mozambique","disclaimers","championships","sheffield","finishing","wellington","prospects","bulgarian","aboriginal","remarkable","preventing","productive","boulevard","compliant","penalties","imagination","refurbished","activated","conferencing","armstrong","politicians","trackbacks","accommodate","christine","accepting","precipitation","isolation","sustained","approximate","programmer","greetings","inherited","incomplete","chronicle","legitimate","biographies","investigator","plaintiff","prisoners","mediterranean","nightlife","architects","entrepreneur","freelance","excessive","screensaver","valuation","unexpected","cigarette","characteristic","metallica","consequently","appointments","narrative","academics","quantitative","screensavers","subdivision","distinction","livestock","exemption","sustainability","formatting","nutritional","nicaragua","affiliation","relatives","satisfactory","revolutionary","bracelets","telephony","breathing","thickness","adjustments","graphical","discussing","aerospace","meaningful","maintains","shortcuts","voyeurweb","extending","specifies","accreditation","blackberry","meditation","microphone","macedonia","combining","instrumental","organizing","moderators","kazakhstan","standings","partition","invisible","translations","commodity","kilometers","thanksgiving","guarantees","indication","congratulations","cigarettes","controllers","consultancy","conventions","coordinates","responding","physically","stakeholders","hydrocodone","consecutive","attempting","representations","competing","peninsula","accurately","considers","ministries","vacancies","parliamentary","acknowledge","thoroughly","nottingham","identifies","questionnaire","qualification","modelling","miniature","interstate","consequence","systematic","perceived","madagascar","presenting","troubleshooting","uzbekistan","centuries","magnitude","richardson","fragrances","vocabulary","earthquake","fundraising","geological","assessing","introduces","webmasters","computational","acdbentity","participated","handhelds","answering","impressed","conspiracy","organizer","combinations","preceding","cumulative","amplifier","arbitrary","prominent","lexington","contacted","recorders","occasional","innovations","postcards","reviewing","explicitly","transsexual","citizenship","informative","girlfriend","bloomberg","hierarchy","influenced","abandoned","complement","mauritius","checklist","requesting","lauderdale","scenarios","extraction","elevation","utilization","beverages","calibration","efficiently","entertaining","prerequisite","hypothesis","medicines","regression","enhancements","renewable","intersection","passwords","consistency","collectors","azerbaijan","astrology","occurring","supplemental","travelling","induction","precisely","spreading","provinces","widespread","incidence","incidents","enhancing","interference","palestine","listprice","atmospheric","knowledgestorm","referenced","publicity","proposition","allowance","designation","duplicate","criterion","civilization","vietnamese","tremendous","corrected","encountered","internationally","surrounded","creatures","commented","accomplish","vegetarian","newfoundland","investigated","ambassador","stephanie","contacting","vegetation","findarticles","specially","infectious","continuity","phenomenon","conscious","referrals","differently","integrating","revisions","reasoning","charitable","annotated","convinced","burlington","replacing","researcher","watershed","occupations","acknowledged","equilibrium","characterized","privilege","qualifying","estimation","pediatric","techrepublic","institutes","brochures","traveller","appropriations","suspected","benchmark","beginners","instructors","highlighted","stationery","unauthorized","competent","contributor","demonstrates","gradually","desirable","journalist","afterwards","religions","explosion","signatures","disciplines","daughters","conversations","simplified","motherboard","bibliographic","champagne","deviation","superintendent","housewives","influences","inspections","irrigation","hydraulic","robertson","penetration","conviction","omissions","retrieval","qualities","prototype","importantly","apparatus","explaining","nomination","empirical","dependence","sexuality","polyester","commitments","suggesting","remainder","privileges","televisions","specializing","commodities","motorcycles","concentrate","reproductive","molecules","refrigerator","intervals","sentences","exclusion","workstation","holocaust","receivers","disposition","navigator","investigators","marijuana","cathedral","fairfield","fascinating","landscapes","lafayette","computation","cardiovascular","salvation","predictions","accompanying","selective","arbitration","configuring","editorials","sacrifice","removable","convergence","gibraltar","anthropology","malpractice","reporters","necessity","rendering","hepatitis","nationally","waterproof","specialties","humanitarian","invitations","functioning","economies","alexandria","bacterial","undertake","continuously","achievements","convertible","secretariat","paragraphs","adolescent","nominations","cancelled","introductory","reservoir","occurrence","worcester","demographic","disciplinary","respected","portraits","interpreted","evaluations","elimination","hypothetical","immigrants","complimentary","helicopter","performer","commissions","powerseller","graduated","surprising","unnecessary","dramatically","yugoslavia","characterization","likelihood","fundamentals","contamination","endangered","compromise","expiration","namespace","peripheral","negotiation","opponents","nominated","confidentiality","electoral","changelog","alternatively","greensboro","controversial","recovered","upgrading","frontpage","demanding","defensive","forbidden","programmers","monitored","installations","deutschland","practitioner","motivated","smithsonian","examining","revelation","delegation","dictionaries","greenhouse","transparency","currencies","survivors","positioning","descending","temporarily","frequencies","reflections","municipality","detective","experiencing","fireplace","endorsement","psychiatry","persistent","summaries","looksmart","magnificent","colleague","adaptation","paintball","enclosure","supervisors","westminster","distances","absorption","treasures","transcripts","disappointed","continually","communist","collectible","entrepreneurs","creations","acquisitions","biodiversity","excitement","presently","mysterious","librarian","subsidiaries","stockholm","indonesian","therapist","promising","relaxation","thereafter","commissioners","forwarding","nightmare","reductions","southampton","organisms","telescope","portsmouth","advancement","harassment","generators","generates","replication","inexpensive","receptors","interventions","huntington","internship","aluminium","snowboard","beastality","evanescence","coordinated","shipments","antarctica","chancellor","controversy","legendary","beautifully","antibodies","examinations","immunology","departmental","terminology","gentleman","reproduce","convicted","roommates","threatening","spokesman","activists","frankfurt","encourages","assembled","restructuring","terminals","simulations","sufficiently","conditional","crossword","conceptual","liechtenstein","translator","automobiles","continent","longitude","challenged","telecharger","insertion","instrumentation","constraint","groundwater","strengthening","insulation","infringement","subjective","swaziland","varieties","mediawiki","configurations"],Ee=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,be=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Ce=[function(e){var t=Ee.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:t[0]}},function(e){var t=be.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:"mailto:"+t[0]}}];function Ne(){return e.createElement(b.AutoLinkPlugin,{matchers:Ce})}function we(t){var r=t.filter,i=t.newTab,a=void 0===i||i,l=h.useLexicalComposerContext()[0];return e.useEffect((function(){function e(e){var t=e,i=function(e,t){return t.getEditorState().read((function(){var t=e.target;return _e(t)?t:t.parentNode&&_e(t.parentNode)?t.parentNode:null}))}(t,l);if(null!==i){var c=i.getAttribute("href");if("false"!==i.getAttribute("contenteditable")&&void 0!==c){var s=l.getEditorState().read(o.$getSelection);if(!o.$isRangeSelection(s)||s.isCollapsed()){var u=null;if(l.update((function(){var e=o.$getNearestNodeFromDOMNode(i);n.$isLinkNode(e)&&(u=e)})),null!==u&&(void 0===r||r(t,u)))try{null!==c&&window.open(c,a||t.metaKey||t.ctrlKey?"_blank":"_self")}catch(e){}}}}}return l.registerRootListener((function(t,n){null!==n&&n.removeEventListener("click",e),null!==t&&t.addEventListener("click",e)}))}),[l,r,a]),null}function _e(e){return"a"===e.nodeName.toLowerCase()}function xe(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){return g.registerCodeHighlighting(t)}),[t]),null}var ke=function(e){function t(t,n,r){var i;return(i=e.call(this,n,r)||this).__className=t,i}J(t,e),t.getType=function(){return"emoji"},t.clone=function(e){return new t(e.__className,e.__text,e.__key)};var n=t.prototype;return n.createDOM=function(t){var n=document.createElement("span"),r=e.prototype.createDOM.call(this,t);return n.className=this.__className,r.className="emoji-inner",n.appendChild(r),n},n.updateDOM=function(t,n,r){var i=n.firstChild;return null===i||(e.prototype.updateDOM.call(this,t,i,r),!1)},t.importJSON=function(e){var t=Te(e.className,e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t},n.exportJSON=function(){return Y({},e.prototype.exportJSON.call(this),{className:this.getClassName(),type:"emoji"})},n.getClassName=function(){return this.getLatest().__className},t}(o.TextNode);function Te(e,t){return new ke(e,t).setMode("token")}var Se=new Map([[":)",["emoji happysmile","🙂"]],[":D",["emoji veryhappysmile","😀"]],[":(",["emoji unhappysmile","🙁"]],["<3",["emoji heart","❤"]],["🙂",["emoji happysmile","🙂"]],["😀",["emoji veryhappysmile","😀"]],["🙁",["emoji unhappysmile","🙁"]],["❤",["emoji heart","❤"]]]);function Oe(e){for(var t=e.getTextContent(),n=0;n<t.length;n++){var r=Se.get(t[n])||Se.get(t.slice(n,n+2));if(void 0!==r){var i=r[0],a=r[1],o=void 0;o=0===n?e.splitText(n+2)[0]:e.splitText(n,n+2)[1];var l=Te(i,a);return o.replace(l),l}}return null}function Re(e){for(var t=e;null!==t;){if(!t.isSimpleText())return;t=Oe(t)}}function Me(){return t=h.useLexicalComposerContext()[0],e.useEffect((function(){if(!t.hasNodes([ke]))throw new Error("EmojisPlugin: EmojiNode not registered on editor");return t.registerNodeTransform(o.TextNode,Re)}),[t]),null;var t}function Le(t){var n=t.setEquation,r=t.inputRef;return e.createElement(t.inline?Ae:Pe,Object.assign({},{equation:t.equation,inputRef:r,onChange:function(e){n(e.target.value)}},{inputRef:r}))}function Ae(t){var n=t.equation,r=t.onChange,i=t.inputRef;return e.createElement("span",{className:"EquationEditor_inputBackground"},e.createElement("span",{className:"EquationEditor_dollarSign"},"$"),e.createElement("input",{className:"EquationEditor_inlineEditor",value:n,onChange:r,autoFocus:!0,ref:i}),e.createElement("span",{className:"EquationEditor_dollarSign"},"$"))}function Pe(t){var n=t.equation,r=t.onChange,i=t.inputRef;return e.createElement("div",{className:"EquationEditor_inputBackground"},e.createElement("span",{className:"EquationEditor_dollarSign"},"$$\n"),e.createElement("textarea",{className:"EquationEditor_blockEditor",value:n,onChange:r,ref:i}),e.createElement("span",{className:"EquationEditor_dollarSign"},"\n$$"))}function De(t){var n=t.equation,r=t.inline,i=t.onClick,a=e.useRef(null);return e.useEffect((function(){var e=a.current;null!==e&&N.render(n,e,{displayMode:!r,errorColor:"#cc0000",output:"html",strict:"warn",throwOnError:!1,trust:!1})}),[n,r]),e.createElement(e.Fragment,null,e.createElement("span",{className:"spacer"}," "),e.createElement("span",{role:"button",tabIndex:-1,onClick:i,ref:a}),e.createElement("span",{className:"spacer"}," "))}function Ie(t){var n=t.equation,r=t.inline,i=t.nodeKey,a=h.useLexicalComposerContext()[0],l=e.useState(n),c=l[0],s=l[1],u=e.useState(!1),d=u[0],m=u[1],p=e.useRef(null),f=e.useCallback((function(e){m(!1),a.update((function(){var t=o.$getNodeByKey(i);(function(e){return e instanceof $e})(t)&&(t.setEquation(c),e&&t.selectNext(0,0))}))}),[a,c,i]);return e.useEffect((function(){if(d)return E.mergeRegister(a.registerCommand(o.SELECTION_CHANGE_COMMAND,(function(e){var t=document.activeElement;return p.current!==t&&f(),!1}),o.COMMAND_PRIORITY_HIGH),a.registerCommand(o.KEY_ESCAPE_COMMAND,(function(e){var t=document.activeElement;return p.current===t&&(f(!0),!0)}),o.COMMAND_PRIORITY_HIGH))}),[a,f,d]),e.createElement(e.Fragment,null,d?e.createElement(Le,{equation:c,setEquation:s,inline:r,inputRef:p}):e.createElement(De,{equation:c,inline:r,onClick:function(){m(!0)}}))}var $e=function(t){function n(e,n,r){var i;return(i=t.call(this,r)||this).__equation=e,i.__inline=null!=n&&n,i}J(n,t),n.getType=function(){return"equation"},n.clone=function(e){return new n(e.__equation,e.__inline,e.__key)},n.importJSON=function(e){return Fe(e.equation,e.inline)};var r=n.prototype;return r.exportJSON=function(){return{equation:this.getEquation(),inline:this.__inline,type:"equation",version:1}},r.createDOM=function(e){return document.createElement(this.__inline?"span":"div")},r.updateDOM=function(e){return this.__inline!==e.__inline},r.getEquation=function(){return this.__equation},r.setEquation=function(e){this.getWritable().__equation=e},r.decorate=function(){return e.createElement(Ie,{equation:this.__equation,inline:this.__inline,nodeKey:this.__key})},n}(o.DecoratorNode);function Fe(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),new $e(e,t)}var qe=o.createCommand();function Be(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([$e]))throw new Error("EquationsPlugins: EquationsNode not registered on editor");return t.registerCommand(qe,(function(e){var t=e.equation,n=e.inline,r=o.$getSelection();if(o.$isRangeSelection(r)){var i=Fe(t,n);r.insertNodes([i])}return!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}function ze(e,t,n){return Math.min(Math.max(e,t),n)}function Ke(t){var n=t.onResizeStart,r=t.onResizeEnd,i=t.imageRef,a=t.maxWidth,o=t.editor,l=t.showCaption,c=t.setShowCaption,s=e.useRef(null),u=e.useRef(null),d=e.useRef({priority:"",value:"default"}),m=e.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),p=o.getRootElement(),f=a||(null!==p?p.getBoundingClientRect().width-20:100),g=null!==p?p.getBoundingClientRect().height-20:100,h=function(e,t){var r=i.current,a=u.current;if(null!==r&&null!==a){var o=r.getBoundingClientRect(),l=o.width,c=o.height,s=m.current;s.startWidth=l,s.startHeight=c,s.ratio=l/c,s.currentWidth=l,s.currentHeight=c,s.startX=e.clientX,s.startY=e.clientY,s.isResizing=!0,s.direction=t,function(e){var t=1===e||4===e?"ew":8===e||2===e?"ns":8&e&&4&e||2&e&&1&e?"nwse":"nesw";null!==p&&p.style.setProperty("cursor",t+"-resize","important"),null!==document.body&&(document.body.style.setProperty("cursor",t+"-resize","important"),d.current.value=document.body.style.getPropertyValue("-webkit-user-select"),d.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))}(t),n(),a.classList.add("image-control-wrapper--resizing"),r.style.height=c+"px",r.style.width=l+"px",document.addEventListener("pointermove",v),document.addEventListener("pointerup",y)}},v=function(e){var t=i.current,n=m.current,r=10&n.direction;if(null!==t&&n.isResizing)if(5&n.direction&&r){var a=Math.floor(n.startX-e.clientX),o=ze(n.startWidth+(a=1&n.direction?-a:a),100,f),l=o/n.ratio;t.style.width=o+"px",t.style.height=l+"px",n.currentHeight=l,n.currentWidth=o}else if(r){var c=Math.floor(n.startY-e.clientY),s=ze(n.startHeight+(c=2&n.direction?-c:c),100,g);t.style.height=s+"px",n.currentHeight=s}else{var u=Math.floor(n.startX-e.clientX),d=ze(n.startWidth+(u=1&n.direction?-u:u),100,f);t.style.width=d+"px",n.currentWidth=d}},y=function e(){var t=m.current,n=u.current;if(null!==i.current&&null!==n&&t.isResizing){var a=t.currentWidth,o=t.currentHeight;t.startWidth=0,t.startHeight=0,t.ratio=0,t.startX=0,t.startY=0,t.currentWidth=0,t.currentHeight=0,t.isResizing=!1,n.classList.remove("image-control-wrapper--resizing"),null!==p&&p.style.setProperty("cursor","default"),null!==document.body&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",d.current.value,d.current.priority)),r(a,o),document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",e)}};return e.createElement("div",{ref:u},!l&&e.createElement("button",{className:"image-caption-button",ref:s,onClick:function(){c(!l)}},"Add Caption"),e.createElement("div",{className:"image-resizer image-resizer-n",onPointerDown:function(e){h(e,8)}}),e.createElement("div",{className:"image-resizer image-resizer-ne",onPointerDown:function(e){h(e,9)}}),e.createElement("div",{className:"image-resizer image-resizer-e",onPointerDown:function(e){h(e,1)}}),e.createElement("div",{className:"image-resizer image-resizer-se",onPointerDown:function(e){h(e,3)}}),e.createElement("div",{className:"image-resizer image-resizer-s",onPointerDown:function(e){h(e,2)}}),e.createElement("div",{className:"image-resizer image-resizer-sw",onPointerDown:function(e){h(e,6)}}),e.createElement("div",{className:"image-resizer image-resizer-w",onPointerDown:function(e){h(e,4)}}),e.createElement("div",{className:"image-resizer image-resizer-nw",onPointerDown:function(e){h(e,12)}}))}var He=function(e){var t,n=null==e||null==(t=e.firstElementChild)?void 0:t.firstElementChild,r=e.getAttribute("viewBox");if(null!=r){var i=r.split(" ");e.setAttribute("width",i[2]),e.setAttribute("height",i[3])}n&&"style"===n.tagName&&n.remove()};function We(t){var n,r=t.elements,i=t.imageContainerRef,a=t.appState,o=void 0===a?null:a,l=t.rootClassName,c=void 0===l?null:l,s=e.useState(null),u=s[0],d=s[1];return e.useEffect((function(){!function(){var e=j(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_.exportToSvg({appState:o,elements:r,files:null});case 4:He(t=e.sent),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("display","block"),d(t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r,o]),e.createElement("div",{ref:i,className:null!=c?c:"",dangerouslySetInnerHTML:{__html:null!=(n=null==u?void 0:u.outerHTML)?n:""}})}function je(t){var n=t.nodeKey,r=t.data,i=h.useLexicalComposerContext()[0],a=e.useRef(null),l=e.useRef(null),c=w.useLexicalNodeSelection(n),s=c[0],u=c[1],d=c[2],m=e.useState(!1),p=m[0],f=m[1],g=e.useCallback((function(e){return s&&o.$isNodeSelection(o.$getSelection())&&(e.preventDefault(),i.update((function(){var e=o.$getNodeByKey(n);Ue(e)&&e.remove(),u(!1)}))),!1}),[i,s,n,u]);e.useEffect((function(){return E.mergeRegister(i.registerCommand(o.CLICK_COMMAND,(function(e){var t=l.current;return!!p||!(null===t||!t.contains(e.target))&&(e.shiftKey||d(),u(!s),!0)}),o.COMMAND_PRIORITY_LOW),i.registerCommand(o.KEY_DELETE_COMMAND,g,o.COMMAND_PRIORITY_LOW),i.registerCommand(o.KEY_BACKSPACE_COMMAND,g,o.COMMAND_PRIORITY_LOW))}),[d,i,s,p,g,u]),e.useCallback((function(){return i.update((function(){var e=o.$getNodeByKey(n);Ue(e)&&e.remove()}))}),[i,n]);var v=e.useMemo((function(){return JSON.parse(r)}),[r]);return e.createElement(e.Fragment,null,v.length>0&&e.createElement("button",{ref:l,className:"excalidraw-button "+(s?"selected":"")},e.createElement(We,{imageContainerRef:a,className:"image",elements:v}),(s||p)&&e.createElement(Ke,{showCaption:!0,setShowCaption:function(){return null},imageRef:a,editor:i,onResizeStart:function(){f(!0)},onResizeEnd:function(){setTimeout((function(){f(!1)}),200)}})))}function Ye(e){var t=e.getAttribute("data-lexical-excalidraw-json");if(t){var n=Ge();return n.__data=t,{node:n}}return null}var Je=function(t){function n(e,n){var r;return void 0===e&&(e="[]"),(r=t.call(this,n)||this).__data=e,r}J(n,t),n.getType=function(){return"excalidraw"},n.clone=function(e){return new n(e.__data,e.__key)},n.importJSON=function(e){return new n(e.data)};var r=n.prototype;return r.exportJSON=function(){return{data:this.__data,type:"excalidraw",version:1}},r.createDOM=function(e){var t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t},r.updateDOM=function(){return!1},n.importDOM=function(){return{span:function(e){return e.hasAttribute("data-lexical-excalidraw-json")?{conversion:Ye,priority:1}:null}}},r.exportDOM=function(e){var t=document.createElement("span"),n=e.getElementByKey(this.getKey());if(null!==n){var r=n.querySelector("svg");null!==r&&(t.innerHTML=r.outerHTML)}return t.setAttribute("data-lexical-excalidraw-json",this.__data),{element:t}},r.setData=function(e){this.getWritable().__data=e},r.decorate=function(t,n){return e.createElement(je,{nodeKey:this.getKey(),data:this.__data})},n}(o.DecoratorNode);function Ge(){return new Je}function Ue(e){return e instanceof Je}var Ve=o.createCommand();function Xe(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([Je]))throw new Error("ExcalidrawPlugin: ExcalidrawNode not registered on editor");return t.registerCommand(Ve,(function(){var e=o.$getSelection();if(o.$isRangeSelection(e)){var t=Ge();e.insertNodes([t])}return!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}function Ze(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){return t.registerCommand(x.INSERT_HORIZONTAL_RULE_COMMAND,(function(e){var t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;if(null!==t.focus.getNode()){var n=x.$createHorizontalRuleNode();t.insertParagraph(),t.focus.getNode().getTopLevelElementOrThrow().insertBefore(n)}return!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}var Qe=function(e){function t(){return e.apply(this,arguments)||this}J(t,e),t.getType=function(){return"keyword"},t.clone=function(e){return new t(e.__text,e.__key)},t.importJSON=function(e){var t=et(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t};var n=t.prototype;return n.exportJSON=function(){return Y({},e.prototype.exportJSON.call(this),{type:"keyword",version:1})},n.createDOM=function(t){var n=e.prototype.createDOM.call(this,t);return n.style.cursor="default",n.className="keyword",n},n.canInsertTextBefore=function(){return!1},n.canInsertTextAfter=function(){return!1},n.isTextEntity=function(){return!0},t}(o.TextNode);function et(e){return new Qe(e)}var tt=/(^|$|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])(congrats|congratulations|gratuluju|gratuluji|gratulujeme|blahopřeju|blahopřeji|blahopřejeme|Til lykke|Tillykke|Glückwunsch|Gratuliere|felicitaciones|enhorabuena|paljon onnea|onnittelut|Félicitations|gratula|gratulálok|gratulálunk|congratulazioni|complimenti|おめでとう|おめでとうございます|축하해|축하해요|gratulerer|Gefeliciteerd|gratulacje|Parabéns|parabéns|felicitações|felicitări|мои поздравления|поздравляем|поздравляю|gratulujem|blahoželám|ยินดีด้วย|ขอแสดงความยินดี|tebrikler|tebrik ederim|恭喜|祝贺你|恭喜你|恭喜|恭喜|baie geluk|veels geluk|অভিনন্দন|Čestitam|Čestitke|Čestitamo|Συγχαρητήρια|Μπράβο|અભિનંદન|badhai|बधाई|अभिनंदन|Честитам|Свака част|hongera|வாழ்த்துகள்|வாழ்த்துக்கள்|అభినందనలు|അഭിനന്ദനങ്ങൾ|Chúc mừng|מזל טוב|mazel tov|mazal tov)(^|$|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])/i;function nt(){var t=h.useLexicalComposerContext()[0];e.useEffect((function(){if(!t.hasNodes([Qe]))throw new Error("KeywordsPlugin: KeywordNode not registered on editor")}),[t]);var n=e.useCallback((function(e){return et(e.getTextContent())}),[]),r=e.useCallback((function(e){var t=tt.exec(e);if(null===t)return null;var n=t.index+t[1].length;return{end:n+t[2].length,start:n}}),[]);return T.useLexicalTextEntity(r,Qe,n),null}var rt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function it(e){var t=e.textContent;return null!==t?{node:ot(t)}:null}var at=function(e){function t(t,n,r){var i;return(i=e.call(this,null!=n?n:t,r)||this).__mention=t,i}J(t,e),t.getType=function(){return"mention"},t.clone=function(e){return new t(e.__mention,e.__text,e.__key)},t.importJSON=function(e){var t=ot(e.mentionName);return t.setTextContent(e.text),t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t};var n=t.prototype;return n.exportJSON=function(){return Y({},e.prototype.exportJSON.call(this),{mentionName:this.__mention,type:"mention",version:1})},n.createDOM=function(t){var n=e.prototype.createDOM.call(this,t);return n.style.cssText="background-color: rgba(24, 119, 232, 0.2)",n.className="mention",n},n.exportDOM=function(){var e=document.createElement("span");return e.setAttribute("data-lexical-mention","true"),e.textContent=this.__text,{element:e}},t.importDOM=function(){return{span:function(e){return e.hasAttribute("data-lexical-mention")?{conversion:it,priority:1}:null}}},n.isTextEntity=function(){return!0},t}(o.TextNode);function ot(e){var t=new at(e);return t.setMode("segmented").toggleDirectionless(),t}var lt=new RegExp("(^|[^#])((?:\\b[A-Z][^\\s\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;]{1,})$)"),ct="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",st=["@","\\uff20"].join(""),ut="[^"+st+ct+"\\s]",dt=new RegExp("(^|\\s|\\()(["+st+"]((?:"+ut+"(?:\\.[ |$]| |["+ct+"]|)){0,75}))$"),mt=new RegExp("(^|\\s|\\()(["+st+"]((?:"+ut+"){0,50}))$"),pt=new Map,ft=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut Îmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cordé","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dineé Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dormé","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirtaé","Eli Vanto","Ellé","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padmé Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rabé","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Olié","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sabé","Sabine Wren","Saché","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"];function gt(t){var n=t.index,r=t.isSelected,i=t.onClick,a=t.onMouseEnter,o=t.result,l=e.useRef(null),c="item";return r&&(c+=" selected"),e.createElement("li",{key:o,tabIndex:-1,className:c,ref:l,role:"option","aria-selected":r,id:"typeahead-item-"+n,onMouseEnter:a,onClick:i},o)}function ht(t){var n=t.close,r=t.editor,i=t.resolution,a=e.useRef(null),l=i.match,c=function(t){var n=e.useState(null),r=n[0],i=n[1];return e.useEffect((function(){var e,n,r=pt.get(t);null!==r&&(void 0===r?(pt.set(t,null),e=t,n=function(e){pt.set(t,e),i(e)},setTimeout((function(){var t=ft.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}));n(0===t.length?null:t)}),500)):i(r))}),[t]),r}(l.matchingString),s=e.useState(null),u=s[0],d=s[1];e.useEffect((function(){var e=a.current,t=r.getRootElement();if(null!==c&&null!==e&&null!==t){var n=i.range.getBoundingClientRect(),o=n.left;return e.style.top=n.top+n.height+2+"px",e.style.left=o-14+"px",e.style.display="block",t.setAttribute("aria-controls","mentions-typeahead"),function(){e.style.display="none",t.removeAttribute("aria-controls")}}}),[r,i,c]);var m=e.useCallback((function(){if(null!==c&&null!==u){var e=c[u];n(),function(e,t,n){e.update((function(){var e=o.$getSelection();if(o.$isRangeSelection(e)&&e.isCollapsed()){var r=e.anchor;if("text"===r.type){var i=r.getNode();if(i.isSimpleText()){var a=r.offset,l=a-function(e,t,n){for(var r=n,i=r;i<=t.length;i++)e.substr(-i)===t.substr(0,i)&&(r=i);return r}(i.getTextContent().slice(0,a),t,n.replaceableString.length);if(!(l<0)){var c;c=0===l?i.splitText(a)[0]:i.splitText(l,a)[1];var s=ot(t);c.replace(s),s.select()}}}}}))}(r,e,l)}}),[n,l,r,c,u]),p=e.useCallback((function(e){var t=r.getRootElement();null!==t&&(t.setAttribute("aria-activedescendant","typeahead-item-"+e),d(e))}),[r]);return e.useEffect((function(){return function(){var e=r.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}}),[r]),rt((function(){null===c?d(null):null===u&&p(0)}),[c,u,p]),e.useEffect((function(){return E.mergeRegister(r.registerCommand(o.KEY_ARROW_DOWN_COMMAND,(function(e){var t=e;return null!==c&&null!==u&&(u<4&&u!==c.length-1&&p(u+1),t.preventDefault(),t.stopImmediatePropagation()),!0}),o.COMMAND_PRIORITY_LOW),r.registerCommand(o.KEY_ARROW_UP_COMMAND,(function(e){var t=e;return null!==c&&null!==u&&(0!==u&&p(u-1),t.preventDefault(),t.stopImmediatePropagation()),!0}),o.COMMAND_PRIORITY_LOW),r.registerCommand(o.KEY_ESCAPE_COMMAND,(function(e){var t=e;return null!==c&&null!==u&&(t.preventDefault(),t.stopImmediatePropagation(),n(),!0)}),o.COMMAND_PRIORITY_LOW),r.registerCommand(o.KEY_TAB_COMMAND,(function(e){var t=e;return null!==c&&null!==u&&(t.preventDefault(),t.stopImmediatePropagation(),m(),!0)}),o.COMMAND_PRIORITY_LOW),r.registerCommand(o.KEY_ENTER_COMMAND,(function(e){return null!==c&&null!==u&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),m(),!0)}),o.COMMAND_PRIORITY_LOW))}),[m,n,r,c,u,p]),null===c?null:e.createElement("div",{"aria-label":"Suggested mentions",id:"mentions-typeahead",ref:a,role:"listbox"},e.createElement("ul",null,c.slice(0,5).map((function(t,n){return e.createElement(gt,{index:n,isSelected:n===u,onClick:function(){d(n),m()},onMouseEnter:function(){d(n)},key:t,result:t})}))))}function vt(){return function(t){var n=e.useState(null),r=n[0],i=n[1];e.useEffect((function(){if(!t.hasNodes([at]))throw new Error("MentionsPlugin: MentionNode not registered on editor")}),[t]),e.useEffect((function(){var n=document.createRange(),r=null,a=t.registerUpdateListener((function(){var a=n,l=function(e){var t=null;return e.getEditorState().read((function(){var e=o.$getSelection();o.$isRangeSelection(e)&&(t=function(e){var t=e.anchor;if("text"!==t.type)return null;var n=t.getNode();if(!n.isSimpleText())return null;var r=t.offset;return n.getTextContent().slice(0,r)}(e))})),t}(t);if(l!==r&&null!==a&&(r=l,null!==l)){var c=function(e){var t=function(e,t){var n=dt.exec(e);if(null===n&&(n=mt.exec(e)),null!==n){var r=n[3];if(r.length>=1)return{leadOffset:n.index+n[1].length,matchingString:r,replaceableString:n[2]}}return null}(e);return null===t?function(e,t){var n=lt.exec(e);if(null!==n){var r=n[2];if(null!=r&&r.length>=3)return{leadOffset:n.index+n[1].length,matchingString:r,replaceableString:r}}return null}(e):t}(l);if(null!==c&&!function(e,t){return 0===t&&e.getEditorState().read((function(){var e=o.$getSelection();if(o.$isRangeSelection(e)){var t=e.anchor.getNode().getPreviousSibling();return o.$isTextNode(t)&&t.isTextEntity()}return!1}))}(t,c.leadOffset)&&null!==function(e,t){var n=window.getSelection();if(null===n||!n.isCollapsed)return!1;var r=n.anchorNode,i=e.leadOffset,a=n.anchorOffset;try{r&&(t.setStart(r,i),t.setEnd(r,a))}catch(e){return!1}return!0}(c,a))return void e.startTransition((function(){return i({match:c,range:a})}));e.startTransition((function(){return i(null)}))}}));return function(){n=null,a()}}),[t]);var a=e.useCallback((function(){i(null)}),[]);return null===r||null===t?null:v.createPortal(e.createElement(ht,{close:a,resolution:r,editor:t}),document.body)}(h.useLexicalComposerContext()[0])}function yt(t){var n=t.onClose,r=t.tableCellNode,i=t.setIsMenuOpen,a=t.contextRef,l=h.useLexicalComposerContext()[0],c=e.useRef(null),s=e.useState(r),u=s[0],d=s[1],m=e.useState({columns:1,rows:1})[0];e.useEffect((function(){return l.registerMutationListener(S.TableCellNode,(function(e){"updated"===e.get(u.getKey())&&l.getEditorState().read((function(){d(u.getLatest())}))}))}),[l,u]),e.useEffect((function(){l.getEditorState().read((function(){o.$getSelection()}))}),[l]),e.useEffect((function(){var e=a.current,t=c.current;if(null!=e&&null!=t){var n=e.getBoundingClientRect();t.style.opacity="1",t.style.left=n.left+n.width+window.pageXOffset+5+"px",t.style.top=n.top+window.pageYOffset+"px"}}),[a,c]),e.useEffect((function(){function e(e){null==c.current||null==a.current||c.current.contains(e.target)||a.current.contains(e.target)||i(!1)}return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[i,a]);var p=e.useCallback((function(){l.update((function(){if(u.isAttached()){var e=S.$getTableNodeFromLexicalNodeOrThrow(u),t=l.getElementByKey(e.getKey());if(!t)throw new Error("Expected to find tableElement in DOM");var n=S.getTableSelectionFromTableElement(t);null!==n&&n.clearHighlight(),e.markDirty(),d(u.getLatest())}o.$setSelection(null)}))}),[l,u]),f=e.useCallback((function(e){l.update((function(){o.$getSelection();var e=S.$getTableNodeFromLexicalNodeOrThrow(u);S.$getElementGridForTableNode(l,e),p(),n()}))}),[l,u,m.rows,p,n]),g=e.useCallback((function(e){l.update((function(){o.$getSelection(),S.$getTableNodeFromLexicalNodeOrThrow(u),p(),n()}))}),[l,u,m.columns,p,n]),y=e.useCallback((function(){l.update((function(){var e=S.$getTableNodeFromLexicalNodeOrThrow(u),t=S.$getTableRowIndexFromTableCellNode(u);S.$removeTableRowAtIndex(e,t),p(),n()}))}),[l,u,p,n]),E=e.useCallback((function(){l.update((function(){S.$getTableNodeFromLexicalNodeOrThrow(u).remove(),p(),n()}))}),[l,u,p,n]),b=e.useCallback((function(){l.update((function(){var e=S.$getTableNodeFromLexicalNodeOrThrow(u),t=S.$getTableColumnIndexFromTableCellNode(u);S.$deleteTableColumn(e,t),p(),n()}))}),[l,u,p,n]),C=e.useCallback((function(){l.update((function(){var e=S.$getTableNodeFromLexicalNodeOrThrow(u),t=S.$getTableRowIndexFromTableCellNode(u),r=e.getChildren();if(t>=r.length||t<0)throw new Error("Expected table cell to be inside of table row.");var i=r[t];if(!S.$isTableRowNode(i))throw new Error("Expected table row");i.getChildren().forEach((function(e){if(!S.$isTableCellNode(e))throw new Error("Expected table cell");e.toggleHeaderStyle(S.TableCellHeaderStates.ROW)})),p(),n()}))}),[l,u,p,n]),N=e.useCallback((function(){l.update((function(){for(var e=S.$getTableNodeFromLexicalNodeOrThrow(u),t=S.$getTableColumnIndexFromTableCellNode(u),r=e.getChildren(),i=0;i<r.length;i++){var a=r[i];if(!S.$isTableRowNode(a))throw new Error("Expected table row");var o=a.getChildren();if(t>=o.length||t<0)throw new Error("Expected table cell to be inside of table row.");var l=o[t];if(!S.$isTableCellNode(l))throw new Error("Expected table cell");l.toggleHeaderStyle(S.TableCellHeaderStates.COLUMN)}p(),n()}))}),[l,u,p,n]);return v.createPortal(e.createElement("div",{className:"dropdown",ref:c,onClick:function(e){e.stopPropagation()}},e.createElement("button",{className:"item",onClick:function(){return f(!1)}},e.createElement("span",{className:"text"},"Insert"," ",1===m.rows?"row":m.rows+" rows"," ","above")),e.createElement("button",{className:"item",onClick:function(){return f(!0)}},e.createElement("span",{className:"text"},"Insert"," ",1===m.rows?"row":m.rows+" rows"," ","below")),e.createElement("hr",null),e.createElement("button",{className:"item",onClick:function(){return g(!1)}},e.createElement("span",{className:"text"},"Insert"," ",1===m.columns?"column":m.columns+" columns"," ","left")),e.createElement("button",{className:"item",onClick:function(){return g(!0)}},e.createElement("span",{className:"text"},"Insert"," ",1===m.columns?"column":m.columns+" columns"," ","right")),e.createElement("hr",null),e.createElement("button",{className:"item",onClick:function(){return b()}},e.createElement("span",{className:"text"},"Delete column")),e.createElement("button",{className:"item",onClick:function(){return y()}},e.createElement("span",{className:"text"},"Delete row")),e.createElement("button",{className:"item",onClick:function(){return E()}},e.createElement("span",{className:"text"},"Delete table")),e.createElement("hr",null),e.createElement("button",{className:"item",onClick:function(){return C()}},e.createElement("span",{className:"text"},(u.__headerState&S.TableCellHeaderStates.ROW)===S.TableCellHeaderStates.ROW?"Remove":"Add"," ","row header")),e.createElement("button",{className:"item",onClick:function(){return N()}},e.createElement("span",{className:"text"},(u.__headerState&S.TableCellHeaderStates.COLUMN)===S.TableCellHeaderStates.COLUMN?"Remove":"Add"," ","column header"))),document.body)}function Et(){var t=h.useLexicalComposerContext()[0],n=e.useRef(null),r=e.useRef(null),i=e.useState(!1),a=i[0],l=i[1],c=e.useState(null),s=c[0],u=c[1],d=e.useCallback((function(){var e=n.current,r=o.$getSelection(),i=window.getSelection(),a=document.activeElement;if(null!=r&&null!=e){var l=t.getRootElement();if(o.$isRangeSelection(r)&&null!==l&&null!==i&&l.contains(i.anchorNode)){var c=S.$getTableCellNodeFromLexicalNode(r.anchor.getNode());if(null==c)return void u(null);if(null==t.getElementByKey(c.getKey()))return void u(null);u(c)}else a||u(null)}else u(null)}),[t]);e.useEffect((function(){return t.registerUpdateListener((function(){t.getEditorState().read((function(){d()}))}))})),e.useEffect((function(){var e=n.current;if(null!=e&&null!=s){var r=t.getElementByKey(s.getKey());if(null!=r){var i=r.getBoundingClientRect(),a=e.getBoundingClientRect();e.style.opacity="1",e.style.left=i.left+window.pageXOffset-a.width+i.width-10+"px",e.style.top=i.top+window.pageYOffset+5+"px"}else e.style.opacity="0"}}),[n,s,t]);var m=e.useRef(s);return e.useEffect((function(){m.current!==s&&l(!1),m.current=s}),[m,s]),e.createElement("div",{className:"table-cell-action-button-container",ref:n},null!=s&&e.createElement(e.Fragment,null,e.createElement("button",{className:"table-cell-action-button chevron-down",onClick:function(e){e.stopPropagation(),l(!a)},ref:r},e.createElement("i",{className:"chevron-down"})),a&&e.createElement(yt,{contextRef:r,setIsMenuOpen:l,onClose:function(){return l(!1)},tableCellNode:s})))}function bt(){return v.createPortal(e.createElement(Et,null),document.body)}var Ct=new Set;function Nt(e){return e instanceof HTMLImageElement?{node:kt({altText:e.alt,src:e.src})}:null}function wt(t){var n=t.altText,r=t.className,i=t.imageRef,a=t.src,o=t.width,l=t.height,c=t.maxWidth;return function(e){if(!Ct.has(e))throw new Promise((function(t){var n=new Image;n.src=e,n.onload=function(){Ct.add(e),t(null)}}))}(a),e.createElement("img",{className:r||void 0,src:a,alt:n,ref:i,style:{height:l,maxWidth:c,width:o},draggable:"false"})}function _t(t){var n=t.src,r=t.altText,i=t.nodeKey,a=t.width,l=t.height,c=t.maxWidth,s=t.resizable,u=t.showCaption,p=t.caption,g=e.useRef(null),v=w.useLexicalNodeSelection(i),y=v[0],b=v[1],C=v[2],N=e.useState(!1),_=N[0],x=N[1],T=h.useLexicalComposerContext()[0],S=e.useState(null)[0],O=e.useCallback((function(e){if(y&&o.$isNodeSelection(o.$getSelection())){e.preventDefault();var t=o.$getNodeByKey(i);Tt(t)&&t.remove(),b(!1)}return!1}),[y,i,b]);e.useEffect((function(){return E.mergeRegister(T.registerCommand(o.CLICK_COMMAND,(function(e){return!!_||e.target===g.current&&(e.shiftKey||C(),b(!y),!0)}),o.COMMAND_PRIORITY_LOW),T.registerCommand(o.KEY_DELETE_COMMAND,O,o.COMMAND_PRIORITY_LOW),T.registerCommand(o.KEY_BACKSPACE_COMMAND,O,o.COMMAND_PRIORITY_LOW))}),[C,T,_,y,i,O,b]),te(),Z();var R=y&&o.$isNodeSelection(S),M=o.$isNodeSelection(S)&&(y||_);return e.createElement(e.Suspense,{fallback:null},e.createElement(e.Fragment,null,e.createElement("div",{draggable:R},e.createElement(wt,{className:M?"focused":null,src:n,altText:r,imageRef:g,width:a,height:l,maxWidth:c})),u&&e.createElement("div",{className:"image-caption-container"},e.createElement(k.LexicalNestedComposer,{initialEditor:p},e.createElement(vt,null),e.createElement(f.TablePlugin,null),e.createElement(bt,null),e.createElement(Ot,null),e.createElement(m.LinkPlugin,null),e.createElement(Me,null),e.createElement(d.HashtagPlugin,null),e.createElement(nt,null))),s&&M&&e.createElement(Ke,{showCaption:u,setShowCaption:function(){T.update((function(){var e=o.$getNodeByKey(i);Tt(e)&&e.setShowCaption(!0)}))},editor:T,imageRef:g,maxWidth:c,onResizeStart:function(){x(!0)},onResizeEnd:function(e,t){setTimeout((function(){x(!1)}),200),T.update((function(){var n=o.$getNodeByKey(i);Tt(n)&&n.setWidthAndHeight(e,t)}))}})))}var xt=function(t){function n(e,n,r,i,a,l,c,s){var u;return(u=t.call(this,s)||this).__src=e,u.__altText=n,u.__maxWidth=r,u.__width=i||"inherit",u.__height=a||"inherit",u.__showCaption=l||!1,u.__caption=c||o.createEditor(),u}J(n,t),n.getType=function(){return"image"},n.clone=function(e){return new n(e.__src,e.__altText,e.__maxWidth,e.__width,e.__height,e.__showCaption,e.__caption,e.__key)},n.importJSON=function(e){var t=e.caption,n=kt({altText:e.altText,height:e.height,maxWidth:e.maxWidth,showCaption:e.showCaption,src:e.src,width:e.width}),r=n.__caption,i=r.parseEditorState(t.editorState);return i.isEmpty()||r.setEditorState(i),n};var r=n.prototype;return r.exportDOM=function(){var e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),{element:e}},n.importDOM=function(){return{img:function(e){return{conversion:Nt,priority:0}}}},r.exportJSON=function(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:"inherit"===this.__height?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:"inherit"===this.__width?0:this.__width}},r.setWidthAndHeight=function(e,t){var n=this.getWritable();n.__width=e,n.__height=t},r.setShowCaption=function(e){this.getWritable().__showCaption=e},r.createDOM=function(e){var t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t},r.updateDOM=function(){return!1},r.getSrc=function(){return this.__src},r.getAltText=function(){return this.__altText},r.decorate=function(){return e.createElement(_t,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,resizable:!0})},n}(o.DecoratorNode);function kt(e){var t=e.maxWidth;return new xt(e.src,e.altText,void 0===t?500:t,e.width,e.height,e.showCaption,e.caption,e.key)}function Tt(e){return e instanceof xt}var St=o.createCommand();function Ot(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([xt]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return E.mergeRegister(t.registerCommand(St,(function(e){var t=o.$getSelection();if(o.$isRangeSelection(t)){o.$isRootNode(t.anchor.getNode())&&t.insertParagraph();var n=kt(e);t.insertNodes([n])}return!0}),o.COMMAND_PRIORITY_EDITOR),t.registerCommand(o.DRAGSTART_COMMAND,(function(e){return function(e){var t=Mt();if(!t)return!1;var n=e.dataTransfer;return!!n&&(n.setData("text/plain","_"),n.setDragImage(Rt,0,0),n.setData("application/x-lexical-drag",JSON.stringify({data:{altText:t.__altText,caption:t.__caption,height:t.__height,key:t.getKey(),maxWidth:t.__maxWidth,showCaption:t.__showCaption,src:t.__src,width:t.__width},type:"image"})),!0)}(e)}),o.COMMAND_PRIORITY_HIGH),t.registerCommand(o.DRAGOVER_COMMAND,(function(e){return function(e){return!!Mt()&&(Lt(e)||e.preventDefault(),!0)}(e)}),o.COMMAND_PRIORITY_LOW),t.registerCommand(o.DROP_COMMAND,(function(e){return function(e,t){var n=Mt();if(!n)return!1;var r=function(e){var t,n=null==(t=e.dataTransfer)?void 0:t.getData("application/x-lexical-drag");if(!n)return null;var r=JSON.parse(n);return"image"!==r.type?null:r.data}(e);if(!r)return!1;if(e.preventDefault(),Lt(e)){var i=function(e){var t,n=window.getSelection();if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!e.rangeParent||null===n)throw Error("Cannot get the selection when dragging");n.collapse(e.rangeParent,e.rangeOffset||0),t=n.getRangeAt(0)}return t}(e);n.remove();var a=o.$createRangeSelection();null!=i&&a.applyDOMRange(i),o.$setSelection(a),t.dispatchCommand(St,r)}return!0}(e,t)}),o.COMMAND_PRIORITY_HIGH))}),[t]),null}var Rt=document.createElement("img");function Mt(){var e=o.$getSelection();if(!o.$isNodeSelection(e))return null;var t=e.getNodes()[0];return Tt(t)?t:null}function Lt(e){var t=e.target;return!!(t&&t instanceof HTMLElement&&!t.closest("code, span.editor-image")&&t.parentElement&&t.parentElement.closest("div.ContentEditable__root"))}function At(t){var n=t.maxDepth,i=h.useLexicalComposerContext()[0];return e.useEffect((function(){return i.registerCommand(o.INDENT_CONTENT_COMMAND,(function(){return!function(e){var t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;for(var n,i=0,a=U(function(e){var t=e.getNodes();return 0===t.length?new Set([e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]):new Set(t.map((function(e){return o.$isElementNode(e)?e:e.getParentOrThrow()})))}(t));!(n=a()).done;){var l=n.value;if(r.$isListNode(l))i=Math.max(r.$getListDepth(l)+1,i);else if(r.$isListItemNode(l)){var c=l.getParent();if(!r.$isListNode(c))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");i=Math.max(r.$getListDepth(c)+1,i)}}return i<=e}(null!=n?n:7)}),o.COMMAND_PRIORITY_CRITICAL)}),[i,n]),null}function Pt(t){var n=t.maxLength,r=h.useLexicalComposerContext()[0];return e.useEffect((function(){var e=null;return r.registerNodeTransform(o.RootNode,(function(t){var i=o.$getSelection();if(o.$isRangeSelection(i)&&i.isCollapsed()){var a=r.getEditorState(),l=a.read((function(){return t.getTextContent()})),c=t.getTextContent();if(l!==c){var s=c.length-n,u=i.anchor;s>0&&(l.length===n&&e!==a?(e=a,E.$restoreEditorState(r,a)):y.trimTextContentFromAnchor(r,u,s))}}}))}),[r,n]),null}function Dt(e){return void 0===e&&(e=""),{text:e,uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),votes:[]}}function It(e,t,n){return{text:t,uid:e.uid,votes:n||Array.from(e.votes)}}function $t(t){var n=t.option,r=t.index,i=t.options,a=t.totalVotes,o=t.withPollNode,l=(e.useRef(null),n.votes.length),c=n.text;return e.createElement("div",{className:"PollNode__optionContainer"},e.createElement("div",{className:"PollNode__optionInputWrapper"},e.createElement("div",{className:"PollNode__optionInputVotes",style:{width:(0===l?0:l/a*100)+"%"}}),e.createElement("span",{className:"PollNode__optionInputVotesCount"},l>0&&(1===l?"1 vote":l+" votes")),e.createElement("input",{className:"PollNode__optionInput",type:"text",value:c,onChange:function(e){o((function(t){t.setOptionText(n,e.target.value)}))},placeholder:"Option "+(r+1)})),e.createElement("button",{disabled:i.length<3,className:ae("PollNode__optionDelete",i.length<3&&"PollNode__optionDeleteDisabled"),"arial-label":"Remove",onClick:function(){o((function(e){e.deleteOption(n)}))}}))}function Ft(t){var n=t.question,r=t.options,i=t.nodeKey,a=h.useLexicalComposerContext()[0],l=e.useMemo((function(){return function(e){return e.reduce((function(e,t){return e+t.votes.length}),0)}(r)}),[r]),c=w.useLexicalNodeSelection(i),s=c[0],u=c[1],d=c[2],m=e.useState(null)[0],p=e.useRef(null),f=e.useCallback((function(e){if(s&&o.$isNodeSelection(o.$getSelection())){e.preventDefault();var t=o.$getNodeByKey(i);Kt(t)&&t.remove(),u(!1)}return!1}),[s,i,u]);e.useEffect((function(){return E.mergeRegister(a.registerCommand(o.CLICK_COMMAND,(function(e){return e.target===p.current&&(e.shiftKey||d(),u(!s),!0)}),o.COMMAND_PRIORITY_LOW),a.registerCommand(o.KEY_DELETE_COMMAND,f,o.COMMAND_PRIORITY_LOW),a.registerCommand(o.KEY_BACKSPACE_COMMAND,f,o.COMMAND_PRIORITY_LOW))}),[d,a,s,i,f,u]);var g=function(e){a.update((function(){var t=o.$getNodeByKey(i);Kt(t)&&e(t)}))},v=o.$isNodeSelection(m)&&s;return e.createElement("div",{className:"PollNode__container "+(v?"focused":""),ref:p},e.createElement("div",{className:"PollNode__inner"},e.createElement("h2",{className:"PollNode__heading"},n),r.map((function(t,n){return e.createElement($t,{key:t.uid,withPollNode:g,option:t,index:n,options:r,totalVotes:l})})),e.createElement("div",{className:"PollNode__footer"},e.createElement(oe,{onClick:function(){g((function(e){e.addOption(Dt())}))},small:!0},"Add Option"))))}function qt(e){var t=e.getAttribute("data-lexical-poll-question");return null!==t?{node:zt(t)}:null}Rt.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var Bt=function(t){function n(e,n,r){var i;return(i=t.call(this,r)||this).__question=e,i.__options=n||[Dt(),Dt()],i}J(n,t),n.getType=function(){return"poll"},n.clone=function(e){return new n(e.__question,e.__options,e.__key)},n.importJSON=function(e){var t=zt(e.question);return e.options.forEach(t.addOption),t};var r=n.prototype;return r.exportJSON=function(){return{options:this.__options,question:this.__question,type:"poll",version:1}},r.addOption=function(e){var t=this.getWritable(),n=Array.from(t.__options);n.push(e),t.__options=n},r.deleteOption=function(e){var t=this.getWritable(),n=Array.from(t.__options),r=n.indexOf(e);n.splice(r,1),t.__options=n},r.setOptionText=function(e,t){var n=this.getWritable(),r=It(e,t),i=Array.from(n.__options),a=i.indexOf(e);i[a]=r,n.__options=i},r.toggleVote=function(e,t){var n=this.getWritable(),r=e.votes,i=Array.from(r),a=r.indexOf(t);-1===a?i.push(t):i.splice(a,1);var o=It(e,e.text,i),l=Array.from(n.__options),c=l.indexOf(e);l[c]=o,n.__options=l},n.importDOM=function(){return{span:function(e){return e.hasAttribute("data-lexical-poll-question")?{conversion:qt,priority:2}:null}}},r.exportDOM=function(){var e=document.createElement("span");return e.setAttribute("data-lexical-poll-question",this.__question),{element:e}},r.createDOM=function(){var e=document.createElement("span");return e.style.display="inline-block",e},r.updateDOM=function(){return!1},r.decorate=function(){return e.createElement(Ft,{question:this.__question,options:this.__options,nodeKey:this.__key})},n}(o.DecoratorNode);function zt(e){return new Bt(e)}function Kt(e){return e instanceof Bt}var Ht=o.createCommand();function Wt(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([Bt]))throw new Error("PollPlugin: PollNode not registered on editor");return t.registerCommand(Ht,(function(e){var t=o.$getSelection();if(o.$isRangeSelection(t)){var n=zt(e);o.$isRootNode(t.anchor.getNode())&&t.insertParagraph(),t.insertNodes([n])}return!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}var jt=function(){var e=document.getElementById("report-container");return null===e&&((e=document.createElement("div")).id="report-container",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.fontSize="32px",e.style.transform="translate(-50%, -50px)",e.style.padding="20px",e.style.background="rgba(240, 240, 240, 0.4)",e.style.borderRadius="20px",document.body&&document.body.appendChild(e)),e},Yt=o.createCommand(),Jt={"\n":function(e){e.selection.insertParagraph()},redo:function(e){e.editor.dispatchCommand(o.REDO_COMMAND,void 0)},undo:function(e){e.editor.dispatchCommand(o.UNDO_COMMAND,void 0)}},Gt="SpeechRecognition"in window||"webkitSpeechRecognition"in window?function(){var t,n,r=h.useLexicalComposerContext()[0],i=e.useState(!1),a=i[0],l=i[1],c=window.SpeechRecognition||window.webkitSpeechRecognition,s=e.useRef(null),u=(t=e.useRef(null),n=e.useCallback((function(){null!==t&&clearTimeout(t.current),document.body&&document.body.removeChild(jt())}),[]),e.useEffect((function(){return n}),[n]),e.useCallback((function(e){console.log(e);var r=jt();return clearTimeout(t.current),r.innerHTML=e,t.current=setTimeout(n,1e3),t.current}),[n]));return e.useEffect((function(){return a&&null===s.current&&(s.current=new c,s.current.continuous=!0,s.current.interimResults=!0,s.current.addEventListener("result",(function(e){var t=e.results.item(e.resultIndex),n=t.item(0).transcript;u(n),t.isFinal&&r.update((function(){var e=o.$getSelection();if(o.$isRangeSelection(e)){var t=Jt[n.toLowerCase().trim()];t?t({editor:r,selection:e}):n.match(/\s*\n\s*/)?e.insertParagraph():e.insertText(n)}}))}))),s.current&&(a?s.current.start():s.current.stop()),function(){null!==s.current&&s.current.stop()}}),[c,r,a,u]),e.useEffect((function(){return r.registerCommand(Yt,(function(e){return l(e),!0}),o.COMMAND_PRIORITY_EDITOR)}),[r]),null}:function(){return null},Ut=0,Vt=!1;function Xt(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){return Vt||(window.addEventListener("keydown",(function(e){9===e.keyCode&&(Ut=e.timeStamp)}),!0),Vt=!0),t.registerCommand(o.FOCUS_COMMAND,(function(e){var t=o.$getSelection();return o.$isRangeSelection(t)&&Ut+100>e.timeStamp&&o.$setSelection(t.clone()),!1}),1)}),[t]),null}function Zt(t){var n=t.editor,r=e.useRef(null),i=e.useRef(null),a=e.useRef(null),l=e.useRef(null),c=e.useState(null),s=c[0],u=c[1],d=e.useState(null),m=d[0],p=d[1],f=e.useState(!1)[0],g=e.useState(null),h=g[0],v=g[1];e.useEffect((function(){return n.registerCommand(o.SELECTION_CHANGE_COMMAND,(function(e){return o.$getSelection(),!1}),o.COMMAND_PRIORITY_HIGH)}));var y=e.useCallback((function(){p(null),r.current=null,v(null),l.current=null,a.current=null}),[]);e.useEffect((function(){var e=function(e){setTimeout((function(){var t=e.target;if(h)u({x:e.clientX,y:e.clientY});else if(!(i.current&&i.current.contains(t)||r.current===t)){r.current=t;var l=S.getCellFromTarget(t);l&&m!==l?n.update((function(){var e=o.$getNearestNodeFromDOMNode(l.elem);if(!e)throw new Error("TableCellResizer: Table cell node not found.");var i=S.$getTableNodeFromLexicalNodeOrThrow(e),c=n.getElementByKey(i.getKey());if(!c)throw new Error("TableCellResizer: Table element not found.");r.current=t,a.current=c.getBoundingClientRect(),p(l)})):null==l&&y()}}),0)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[m,h,n,y]);var E=function(e){return"bottom"===e},b=e.useCallback((function(e){if(!m)throw new Error("TableCellResizer: Expected active cell.");n.update((function(){var t=o.$getNearestNodeFromDOMNode(m.elem);if(!S.$isTableCellNode(t))throw new Error("TableCellResizer: Table cell node not found.");var n=S.$getTableNodeFromLexicalNodeOrThrow(t),r=S.$getTableRowIndexFromTableCellNode(t),i=n.getChildren();if(r>=i.length||r<0)throw new Error("Expected table cell to be inside of table row.");var a=i[r];if(!S.$isTableRowNode(a))throw new Error("Expected table row");a.setHeight(e)}))}),[m,n]),C=e.useCallback((function(e){if(!m)throw new Error("TableCellResizer: Expected active cell.");n.update((function(){var t=o.$getNearestNodeFromDOMNode(m.elem);if(!S.$isTableCellNode(t))throw new Error("TableCellResizer: Table cell node not found.");for(var n=S.$getTableNodeFromLexicalNodeOrThrow(t),r=S.$getTableColumnIndexFromTableCellNode(t),i=n.getChildren(),a=0;a<i.length;a++){var l=i[a];if(!S.$isTableRowNode(l))throw new Error("Expected table row");var c=l.getChildren();if(r>=c.length||r<0)throw new Error("Expected table cell to be inside of table row.");var s=c[r];if(!S.$isTableCellNode(s))throw new Error("Expected table cell");s.setWidth(e)}}))}),[m,n]),N=e.useCallback((function(e){return function(t){if(t.preventDefault(),t.stopPropagation(),!m)throw new Error("TableCellResizer: Expected active cell.");if(h===e&&l.current){var n=l.current,r=n.x,i=n.y;if(null===m)return;var a=m.elem.getBoundingClientRect(),o=a.height,c=a.width;if(E(e)){var s=Math.abs(t.clientY-i);b(Math.max("bottom"===e&&i>t.clientY?o-s:s+o,33))}else{var d=Math.abs(t.clientX-r);C(Math.max("right"===e&&r>t.clientX?c-d:d+c,50))}y()}else l.current={x:t.clientX,y:t.clientY},u(l.current),v(e)}}),[m,h,y,C,b]),w=e.useCallback((function(){if(m){var e=m.elem.getBoundingClientRect(),t=e.height,n=e.width,r=e.top,i=e.left,o={bottom:{backgroundColor:"none",cursor:"row-resize",height:"10px",left:window.pageXOffset+i+"px",top:window.pageYOffset+r+t+"px",width:n+"px"},right:{backgroundColor:"none",cursor:"col-resize",height:t+"px",left:window.pageXOffset+i+n+"px",top:window.pageYOffset+r+"px",width:"10px"}},l=a.current;return h&&s&&l&&(E(h)?(o[h].left=window.pageXOffset+l.left+"px",o[h].top=window.pageYOffset+s.y+"px",o[h].height="3px",o[h].width=l.width+"px"):(o[h].top=window.pageYOffset+l.top+"px",o[h].left=window.pageXOffset+s.x+"px",o[h].width="3px",o[h].height=l.height+"px"),o[h].backgroundColor="#adf"),o}return{bottom:null,left:null,right:null,top:null}}),[m,h,s])();return e.createElement("div",{ref:i},null!=m&&!f&&e.createElement(e.Fragment,null,e.createElement("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:w.right||void 0,onMouseDown:N("right"),onMouseUp:N("right")}),e.createElement("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:w.bottom||void 0,onMouseDown:N("bottom"),onMouseUp:N("bottom")})))}function Qt(){var t=h.useLexicalComposerContext()[0];return e.useMemo((function(){return v.createPortal(e.createElement(Zt,{editor:t}),document.body)}),[t])}function en(t){var r=t.editor,i=t.isLink,a=t.isBold,l=t.isItalic,c=t.isUnderline,s=t.isCode,u=t.isStrikethrough,d=t.isSubscript,m=t.isSuperscript,p=e.useRef(null),f=e.useCallback((function(){r.dispatchCommand(n.TOGGLE_LINK_COMMAND,i?null:"https://")}),[r,i]),g=e.useCallback((function(){var e=o.$getSelection(),t=p.current,n=window.getSelection();if(null!==t){var i=r.getRootElement();if(null!==e&&null!==n&&!n.isCollapsed&&null!==i&&i.contains(n.anchorNode)){var a,l=n.getRangeAt(0),c=i.getBoundingClientRect();if(n.anchorNode===i){for(var s=i;null!=s.firstElementChild;)s=s.firstElementChild;a=s.getBoundingClientRect()}else a=l.getBoundingClientRect();!function(e,t,n){var r=t.top-8+window.pageYOffset,i=t.left+340+window.pageXOffset-e.offsetWidth+t.width;i+e.offsetWidth>n.right&&(i=t.right-e.offsetWidth,r=t.top-50+window.pageYOffset),i<0&&(i=t.left,r=t.bottom+20),t.width>=n.width-25&&(i=t.left,r=t.top-50+window.pageYOffset),r<n.top&&(r=t.bottom+20),e.style.opacity="1",e.style.top=r+"px",e.style.left=i+"px"}(t,a,c)}}}),[r]);return e.useEffect((function(){var e=function(){r.getEditorState().read((function(){g()}))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[r,g]),e.useEffect((function(){return r.getEditorState().read((function(){g()})),E.mergeRegister(r.registerUpdateListener((function(e){e.editorState.read((function(){g()}))})),r.registerCommand(o.SELECTION_CHANGE_COMMAND,(function(){return g(),!1}),o.COMMAND_PRIORITY_LOW))}),[r,g]),e.createElement("div",{ref:p,className:"floating-text-format-popup"},e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"bold")},className:"popup-item spaced "+(a?"active":""),"aria-label":"Format text as bold"},e.createElement("i",{className:"format bold"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"italic")},className:"popup-item spaced "+(l?"active":""),"aria-label":"Format text as italics"},e.createElement("i",{className:"format italic"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"underline")},className:"popup-item spaced "+(c?"active":""),"aria-label":"Format text to underlined"},e.createElement("i",{className:"format underline"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"strikethrough")},className:"popup-item spaced "+(u?"active":""),"aria-label":"Format text with a strikethrough"},e.createElement("i",{className:"format strikethrough"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"subscript")},className:"popup-item spaced "+(d?"active":""),title:"Subscript","aria-label":"Format Subscript"},e.createElement("i",{className:"format subscript"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"superscript")},className:"popup-item spaced "+(m?"active":""),title:"Superscript","aria-label":"Format Superscript"},e.createElement("i",{className:"format superscript"})),e.createElement("button",{onClick:function(){r.dispatchCommand(o.FORMAT_TEXT_COMMAND,"code")},className:"popup-item spaced "+(s?"active":""),"aria-label":"Insert code block"},e.createElement("i",{className:"format code"})),e.createElement("button",{onClick:f,className:"popup-item spaced "+(i?"active":""),"aria-label":"Insert link"},e.createElement("i",{className:"format link"})))}function tn(e){var t=e.anchor,n=e.focus,r=e.anchor.getNode(),i=e.focus.getNode();return r===i?r:e.isBackward()?y.$isAtNodeEnd(n)?r:i:y.$isAtNodeEnd(t)?i:r}function nn(){return t=h.useLexicalComposerContext()[0],i=(r=e.useState(!1))[0],a=r[1],c=(l=e.useState(!1))[0],s=l[1],d=(u=e.useState(!1))[0],m=u[1],f=(p=e.useState(!1))[0],y=p[1],b=(E=e.useState(!1))[0],C=E[1],w=(N=e.useState(!1))[0],_=N[1],k=(x=e.useState(!1))[0],T=x[1],O=(S=e.useState(!1))[0],R=S[1],L=(M=e.useState(!1))[0],A=M[1],P=e.useCallback((function(){t.getEditorState().read((function(){if(!t.isComposing()){var e=o.$getSelection(),r=window.getSelection(),i=t.getRootElement();if(null===r||o.$isRangeSelection(e)&&null!==i&&i.contains(r.anchorNode)){if(o.$isRangeSelection(e)){var l=tn(e);m(e.hasFormat("bold")),y(e.hasFormat("italic")),C(e.hasFormat("underline")),_(e.hasFormat("strikethrough")),T(e.hasFormat("subscript")),R(e.hasFormat("superscript")),A(e.hasFormat("code"));var c=l.getParent();n.$isLinkNode(c)||n.$isLinkNode(l)?s(!0):s(!1),g.$isCodeHighlightNode(e.anchor.getNode())||""===e.getTextContent()?a(!1):a(o.$isTextNode(l))}}else a(!1)}}))}),[t]),e.useEffect((function(){return document.addEventListener("selectionchange",P),function(){document.removeEventListener("selectionchange",P)}}),[P]),e.useEffect((function(){return t.registerUpdateListener((function(){P()}))}),[t,P]),!i||c?null:v.createPortal(e.createElement(en,{editor:t,isLink:c,isBold:d,isItalic:f,isStrikethrough:w,isSubscript:k,isSuperscript:O,isUnderline:b,isCode:L}),document.body);var t,r,i,a,l,c,s,u,d,m,p,f,y,E,b,C,N,w,_,x,k,T,S,O,R,M,L,A,P}var rn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);function an(e,t){var n=e.style,r=t.rootElementRect,i=null!==r?r.left:0;n.top=(null!==r?r.top:0)+t.y+"px",n.left=i+t.x+"px"}function on(t){var n=t.x,r=t.y,i=t.nodeKey,a=t.color,l=h.useLexicalComposerContext()[0],c=e.useRef(null),s=e.useRef({isDragging:!1,offsetX:0,offsetY:0,rootElementRect:null,x:0,y:0});e.useEffect((function(){var e=s.current;e.x=n,e.y=r;var t=c.current;null!==t&&an(t,e)}),[n,r]),e.useEffect((function(){var e=c.current;null!==e&&setTimeout((function(){e.style.setProperty("transition","top 0.3s ease 0s, left 0.3s ease 0s")}),500)}),[]);var u=function(e){var t=c.current,n=s.current,r=n.rootElementRect;null!==t&&n.isDragging&&null!==r&&(n.x=e.pageX-n.offsetX-r.left,n.y=e.pageY-n.offsetY-r.top,an(t,n))},d=function e(t){var n=c.current,r=s.current;null!==n&&(r.isDragging=!1,n.classList.remove("dragging"),l.update((function(){var e=o.$getNodeByKey(i);cn(e)&&e.setPosition(r.x,r.y)}))),document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",e)};return te(),e.createElement("div",{ref:c,className:"sticky-note-container"},e.createElement("div",{className:"sticky-note "+a,onPointerDown:function(e){var t=c.current;if(null!=t&&2!==e.button&&e.target===t.firstChild){var n=t,r=s.current;if(null!==n){var i=n.getBoundingClientRect(),a=i.top;r.offsetX=e.clientX-i.left,r.offsetY=e.clientY-a,r.isDragging=!0,n.classList.add("dragging"),document.addEventListener("pointermove",u),document.addEventListener("pointerup",d),e.preventDefault()}}}},e.createElement("button",{onClick:function(){l.update((function(){var e=o.$getNodeByKey(i);cn(e)&&e.remove()}))},className:"delete","aria-label":"Delete sticky note",title:"Delete"},"X"),e.createElement("button",{onClick:function(){l.update((function(){var e=o.$getNodeByKey(i);cn(e)&&e.toggleColor()}))},className:"color","aria-label":"Change sticky note color",title:"Color"},e.createElement("i",{className:"bucket"}))))}var ln=function(t){function n(e,n,r,i,a){var l;return(l=t.call(this,a)||this).__x=e,l.__y=n,l.__caption=i||o.createEditor(),l.__color=r,l}J(n,t),n.getType=function(){return"sticky"},n.clone=function(e){return new n(e.__x,e.__y,e.__color,e.__caption,e.__key)},n.importJSON=function(e){return new n(e.xOffset,e.yOffset,e.color,e.caption)};var r=n.prototype;return r.exportJSON=function(){return{caption:this.__caption,color:this.__color,type:"sticky",version:1,xOffset:this.__x,yOffset:this.__y}},r.createDOM=function(e){var t=document.createElement("div");return t.style.display="contents",t},r.updateDOM=function(){return!1},r.setPosition=function(e,t){var n=this.getWritable();n.__x=e,n.__y=t,o.$setSelection(null)},r.toggleColor=function(){var e=this.getWritable();e.__color="pink"===e.__color?"yellow":"pink"},r.decorate=function(t,n){return v.createPortal(e.createElement(on,{color:this.__color,x:this.__x,y:this.__y,nodeKey:this.getKey(),caption:this.__caption}),document.body)},r.isIsolated=function(){return!0},n}(o.DecoratorNode);function cn(e){return e instanceof ln}var sn=e.createContext(null);function un(t){var n=t.children,r=t.className,i=t.onClick,a=t.title,o=e.useRef(null),l=e.useContext(sn);if(null===l)throw new Error("DropDownItem must be used within a DropDown");var c=l.registerItem;return e.useEffect((function(){o&&o.current&&c(o)}),[o,c]),e.createElement("button",{className:r,onClick:i,ref:o,title:a},n)}function dn(t){var n=t.children,r=t.dropDownRef,i=t.onClose,a=e.useState(),o=a[0],l=a[1],c=e.useState(),s=c[0],u=c[1],d=e.useCallback((function(e){l((function(t){return t?[].concat(t,[e]):[e]}))}),[l]),m=e.useMemo((function(){return{registerItem:d}}),[d]);return e.useEffect((function(){o&&!s&&u(o[0]),s&&s.current&&s.current.focus()}),[o,s]),e.createElement(sn.Provider,{value:m},e.createElement("div",{className:"dropdown",ref:r,onKeyDown:function(e){if(o){var t=e.key;["Escape","ArrowUp","ArrowDown","Tab"].includes(t)&&e.preventDefault(),"Escape"===t||"Tab"===t?i():"ArrowUp"===t?u((function(e){if(!e)return o[0];var t=o.indexOf(e)-1;return o[-1===t?o.length-1:t]})):"ArrowDown"===t&&u((function(e){return e?o[o.indexOf(e)+1]:o[0]}))}}},n))}function mn(t){var n=t.buttonLabel,r=t.buttonAriaLabel,i=t.buttonClassName,a=t.buttonIconClassName,o=t.children,l=t.stopCloseOnClickSelf,c=e.useRef(null),s=e.useRef(null),u=e.useState(!1),d=u[0],m=u[1];return e.useEffect((function(){var e=s.current,t=c.current;if(d&&null!==e&&null!==t){var n=e.getBoundingClientRect(),r=n.left;t.style.top=n.top+40+"px",t.style.left=Math.min(r,window.innerWidth-t.offsetWidth-20)+"px"}}),[c,s,d]),e.useEffect((function(){var e=s.current;if(null!==e&&d){var t=function(t){var n=t.target;l&&c.current&&c.current.contains(n)||e.contains(n)||m(!1)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}}),[c,s,d,l]),e.createElement(e.Fragment,null,e.createElement("button",{"aria-label":r||n,className:i,onClick:function(){return m(!d)},ref:s},a&&e.createElement("span",{className:a}),n&&e.createElement("span",{className:"text dropdown-button-text"},n),e.createElement("i",{className:"chevron-down"})),d&&v.createPortal(e.createElement(dn,{dropDownRef:c,onClose:function(){m(!1),s&&s.current&&s.current.focus()}},o),document.body))}function pn(t){var n=t.value,r=t.onChange,i=t.placeholder,a=void 0===i?"":i,o=t["data-test-id"];return e.createElement("div",{className:"Input__wrapper"},e.createElement("label",{className:"Input__label"},t.label),e.createElement("input",{type:"text",className:"Input__input",placeholder:a,value:n,onChange:function(e){r(e.target.value)},"data-test-id":o}))}var fn=["color","children","onChange"],gn=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"];function hn(t){var n=t.color,r=t.children,i=t.onChange,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(t,fn),o=e.useState(wn("hex",n)),l=o[0],c=o[1],s=e.useState(n),u=s[0],d=s[1],m=e.useRef(null),p=e.useMemo((function(){return{x:l.hsv.s/100*214,y:(100-l.hsv.v)/100*150}}),[l.hsv.s,l.hsv.v]),f=e.useMemo((function(){return{x:l.hsv.h/360*214}}),[l.hsv]);return e.useEffect((function(){null!==m.current&&i&&(i(l.hex),d(l.hex))}),[l,i]),e.useEffect((function(){if(void 0!==n){var e=wn("hex",n);c(e),d(e.hex)}}),[n]),e.createElement(mn,Object.assign({},a,{stopCloseOnClickSelf:!0}),e.createElement("div",{className:"color-picker-wrapper",style:{width:214},ref:m},e.createElement(pn,{label:"Hex",onChange:function(e){if(d(e),/^#[0-9A-Fa-f]{6}$/i.test(e)){var t=wn("hex",e);c(t)}},value:u}),e.createElement("div",{className:"color-picker-basic-color"},gn.map((function(t){return e.createElement("button",{className:t===l.hex?" active":"",key:t,style:{backgroundColor:t},onClick:function(){d(t),c(wn("hex",t))}})}))),e.createElement(vn,{className:"color-picker-saturation",style:{backgroundColor:"hsl("+l.hsv.h+", 100%, 50%)"},onChange:function(e){var t=wn("hsv",Y({},l.hsv,{s:e.x/214*100,v:100-e.y/150*100}));c(t),d(t.hex)}},e.createElement("div",{className:"color-picker-saturation_cursor",style:{backgroundColor:l.hex,left:p.x,top:p.y}})),e.createElement(vn,{className:"color-picker-hue",onChange:function(e){var t=wn("hsv",Y({},l.hsv,{h:e.x/214*360}));c(t),d(t.hex)}},e.createElement("div",{className:"color-picker-hue_cursor",style:{backgroundColor:"hsl("+l.hsv.h+", 100%, 50%)",left:f.x}})),e.createElement("div",{className:"color-picker-color",style:{backgroundColor:l.hex}})),r)}function vn(t){var n=t.className,r=t.style,i=t.onChange,a=t.children,o=e.useRef(null),l=function(e){if(o.current){var t=o.current.getBoundingClientRect(),n=t.height,r=t.top,a=yn(e.clientX-t.left,t.width,0),l=yn(e.clientY-r,n,0);i({x:a,y:l})}};return e.createElement("div",{ref:o,className:n,style:r,onMouseDown:function(e){if(0===e.button){l(e);var t=function(e){l(e)};document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",(function e(n){document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",e,!1),l(n)}),!1)}}},a)}function yn(e,t,n){return e>t?t:e<n?n:e}function En(e){if(!e.startsWith("#")){var t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("2d context not supported or canvas already initialized");return t.fillStyle=e,t.fillStyle}return 4===e.length||5===e.length?e=e.split("").map((function(e,t){return t?e+e:"#"})).join(""):7===e.length||9===e.length?e:"#000000"}function bn(e){var t=(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return"#"+t+t+n+n+r+r})).substring(1).match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)}));return{b:t[2],g:t[1],r:t[0]}}function Cn(e){var t=e.r,n=e.g,r=e.b;t/=255,n/=255,r/=255;var i=Math.max(t,n,r),a=i-Math.min(t,n,r);return{h:a?60*(i===t?(n-r)/a+(n<r?6:0):i===n?2+(r-t)/a:4+(t-n)/a):0,s:i?a/i*100:0,v:100*i}}function Nn(e){return"#"+[e.r,e.g,e.b].map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function wn(e,t){var n,r,i,a,o,l,c,s,u,d,m,p,f=En("#121212"),g=bn(f),h=Cn(g);return"hex"===e?h=Cn(g=bn(f=En(t))):"rgb"===e?(f=Nn(g=t),h=Cn(g)):"hsv"===e&&(i=(n=h=t).s,a=n.v,c=(a/=100)*(1-(i/=100)),s=a*(1-i*(l=(r=n.h)/60-(o=~~(r/60)))),u=a*(1-i*(1-l)),d=o%6,m=Math.round(255*[a,s,c,c,u,a][d]),p=Math.round(255*[u,a,a,s,c,c][d]),f=Nn(g={b:Math.round(255*[c,c,u,a,a,s][d]),g:p,r:m})),{hex:f,hsv:h,rgb:g}}function _n(t){var n=t.accept,r=t.onChange,i=t["data-test-id"];return e.createElement("div",{className:"Input__wrapper"},e.createElement("label",{className:"Input__label"},t.label),e.createElement("input",{type:"file",accept:n,className:"Input__input",onChange:function(e){return r(e.target.files)},"data-test-id":i}))}function xn(t){var n=t.onConfirm,r=t.initialEquation,i=e.useState(void 0===r?"":r),a=i[0],o=i[1],l=e.useState(!0),c=l[0],s=l[1],u=e.useCallback((function(){n(a,c)}),[n,a,c]),d=e.useCallback((function(){s(!c)}),[s,c]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"KatexEquationAlterer_defaultRow"},"Inline",e.createElement("input",{type:"checkbox",checked:c,onChange:d})),e.createElement("div",{className:"KatexEquationAlterer_defaultRow"},"Equation "),e.createElement("div",{className:"KatexEquationAlterer_centerRow"},e.createElement(c?"input":"textarea",{onChange:function(e){o(e.target.value)},value:a,className:"KatexEquationAlterer_textArea"})),e.createElement("div",{className:"KatexEquationAlterer_defaultRow"},"Visualization "),e.createElement("div",{className:"KatexEquationAlterer_centerRow"},e.createElement(De,{equation:a,inline:!1,onClick:function(){return null}})),e.createElement("div",{className:"KatexEquationAlterer_dialogActions"},e.createElement(oe,{onClick:u},"Confirm")))}var kn={},Tn=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;function Sn(t){var n=function(e){var t=kn[e];if(!e.match(Tn))return{preview:null};if(t||(t=kn[e]=fetch("/api/link-preview?url="+encodeURI(e)).then((function(e){return e.json()})).then((function(t){return kn[e]=t,t})).catch((function(){kn[e]={preview:null}}))),t instanceof Promise)throw t;return t}(t.url).preview;return null===n?null:e.createElement("div",{className:"LinkPreview__container"},n.img&&e.createElement("div",{className:"LinkPreview__imageWrapper"},e.createElement("img",{src:n.img,alt:n.title,className:"LinkPreview__image"})),n.domain&&e.createElement("div",{className:"LinkPreview__domain"},n.domain),n.title&&e.createElement("div",{className:"LinkPreview__title"},n.title),n.description&&e.createElement("div",{className:"LinkPreview__description"},n.description))}function On(t){return e.createElement("div",Object.assign({className:"LinkPreview__glimmer"},t,{style:Y({animationDelay:String(300*(t.index||0))},t.style||{})}))}function Rn(t){var n=t.url;return e.createElement(e.Suspense,{fallback:e.createElement(e.Fragment,null,e.createElement(On,{style:{height:"80px"},index:0}),e.createElement(On,{style:{width:"60%"},index:1}),e.createElement(On,{style:{width:"80%"},index:2}))},e.createElement(Sn,{url:n}))}function Mn(e){var t=e.getAttribute("data-lexical-tweet-id");return t?{node:Pn(t)}:null}function Ln(t){var n=t.className,r=t.format,i=t.loadingComponent,a=t.nodeKey,o=t.onError,l=t.onLoad,c=t.tweetID,s=e.useRef(null),u=e.useRef(""),d=e.useState(!1),m=d[0],p=d[1],f=e.useCallback(j(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.twttr.widgets.createTweet(c,s.current);case 3:p(!1),l&&l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o&&o(String(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,l,c]);return e.useEffect((function(){if(c!==u.current){if(p(!0),document.querySelector('script[src="https://platform.twitter.com/widgets.js"]'))f();else{var e,t=document.createElement("script");t.src="https://platform.twitter.com/widgets.js",t.async=!0,null==(e=document.body)||e.appendChild(t),t.onload=f,o&&(t.onerror=o)}u&&(u.current=c)}}),[f,o,c]),e.createElement(R.BlockWithAlignableContents,{className:n,format:r,nodeKey:a},m?i:null,e.createElement("div",{style:{display:"inline-block",width:"550px"},ref:s}))}var An=function(t){function n(e,n,r){var i;return(i=t.call(this,n,r)||this).__id=e,i}J(n,t),n.getType=function(){return"tweet"},n.clone=function(e){return new n(e.__id,e.__format,e.__key)},n.importJSON=function(e){var t=Pn(e.id);return t.setFormat(e.format),t};var r=n.prototype;return r.exportJSON=function(){return Y({},t.prototype.exportJSON.call(this),{id:this.getId(),type:"tweet",version:1})},n.importDOM=function(){return{div:function(e){return e.hasAttribute("data-lexical-tweet-id")?{conversion:Mn,priority:2}:null}}},r.exportDOM=function(){var e=document.createElement("div");return e.setAttribute("data-lexical-tweet-id",this.__id),{element:e}},r.getId=function(){return this.__id},r.decorate=function(t,n){var r=n.theme.embedBlock||{};return e.createElement(Ln,{className:{base:r.base||"",focus:r.focus||""},format:this.__format,loadingComponent:"Loading...",nodeKey:this.getKey(),tweetID:this.__id})},r.isTopLevel=function(){return!0},n}(O.DecoratorBlockNode);function Pn(e){return new An(e)}var Dn=o.createCommand();function In(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([An]))throw new Error("TwitterPlugin: TweetNode not registered on editor");return t.registerCommand(Dn,(function(e){o.$getSelection();var t=Pn(e),n=o.$createParagraphNode();return t.insertAfter(n),n.select(),!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}function $n(t){return e.createElement(R.BlockWithAlignableContents,{className:t.className,format:t.format,nodeKey:t.nodeKey},e.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/"+t.videoID,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video"}))}var Fn=function(t){function n(e,n,r){var i;return(i=t.call(this,n,r)||this).__id=e,i}J(n,t),n.getType=function(){return"youtube"},n.clone=function(e){return new n(e.__id,e.__format,e.__key)},n.importJSON=function(e){var t=qn(e.videoID);return t.setFormat(e.format),t};var r=n.prototype;return r.exportJSON=function(){return Y({},t.prototype.exportJSON.call(this),{type:"youtube",version:1,videoID:this.__id})},r.updateDOM=function(){return!1},r.decorate=function(t,n){var r=n.theme.embedBlock||{};return e.createElement($n,{className:{base:r.base||"",focus:r.focus||""},format:this.__format,nodeKey:this.getKey(),videoID:this.__id})},r.isTopLevel=function(){return!0},n}(O.DecoratorBlockNode);function qn(e){return new Fn(e)}var Bn=o.createCommand();function zn(){var t=h.useLexicalComposerContext()[0];return e.useEffect((function(){if(!t.hasNodes([Fn]))throw new Error("YouTubePlugin: YouTubeNode not registered on editor");return t.registerCommand(Bn,(function(e){o.$getSelection();var t=qn(e),n=o.$createParagraphNode();return t.insertAfter(n),n.select(),!0}),o.COMMAND_PRIORITY_EDITOR)}),[t]),null}var Kn={bullet:"Bulleted List",check:"Check List",code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",number:"Numbered List",paragraph:"Normal",quote:"Quote"},Hn=[["","- Select language -"],["c","C"],["clike","C-like"],["css","CSS"],["html","HTML"],["js","JavaScript"],["markdown","Markdown"],["objc","Objective-C"],["plain","Plain Text"],["py","Python"],["rust","Rust"],["sql","SQL"],["swift","Swift"],["xml","XML"]],Wn={javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain"};function jn(e){var t=e.anchor,n=e.focus,r=e.anchor.getNode(),i=e.focus.getNode();return r===i?r:e.isBackward()?y.$isAtNodeEnd(n)?r:i:y.$isAtNodeEnd(t)?i:r}function Yn(e,t,n){if(null===t)e.style.opacity="0",e.style.top="-1000px",e.style.left="-1000px";else{e.style.opacity="1",e.style.top=t.top+t.height+window.pageYOffset+10+"px";var r=t.left-e.offsetWidth/2+t.width/2,i=n.getBoundingClientRect();i.left>r?e.style.left=t.left+window.pageXOffset+"px":r+e.offsetWidth>i.right&&(e.style.left=t.right+window.pageXOffset-e.offsetWidth+"px")}}function Jn(t){var r=t.editor,i=e.useRef(null),a=e.useRef(null),l=e.useState(""),c=l[0],s=l[1],u=e.useState(!1),d=u[0],m=u[1],p=e.useState(null),f=p[0],g=p[1],h=e.useCallback((function(){var e=o.$getSelection();if(o.$isRangeSelection(e)){var t=jn(e),a=t.getParent();n.$isLinkNode(a)?s(a.getURL()):n.$isLinkNode(t)?s(t.getURL()):s("")}var l=i.current,c=window.getSelection(),u=document.activeElement;if(null!==l){var d=r.getRootElement();if(null!==e&&null!==c&&!c.isCollapsed&&null!==d&&d.contains(c.anchorNode)){var p,f=c.getRangeAt(0);if(c.anchorNode===d){for(var h=d;null!=h.firstElementChild;)h=h.firstElementChild;p=h.getBoundingClientRect()}else p=f.getBoundingClientRect();Yn(l,p,d)}else u&&"link-input"===u.className||(null!==d&&Yn(l,null,d),g(null),m(!1),s(""));return!0}}),[r]);return e.useEffect((function(){var e=function(){r.getEditorState().read((function(){h()}))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[r,h]),e.useEffect((function(){return E.mergeRegister(r.registerUpdateListener((function(e){e.editorState.read((function(){h()}))})),r.registerCommand(o.SELECTION_CHANGE_COMMAND,(function(){return h(),!0}),o.COMMAND_PRIORITY_LOW))}),[r,h]),e.useEffect((function(){r.getEditorState().read((function(){h()}))}),[r,h]),e.useEffect((function(){d&&a.current&&a.current.focus()}),[d]),e.createElement("div",{ref:i,className:"link-editor"},d?e.createElement("input",{ref:a,className:"link-input",value:c,onChange:function(e){s(e.target.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),null!==f&&(""!==c&&r.dispatchCommand(n.TOGGLE_LINK_COMMAND,c),m(!1))):"Escape"===e.key&&(e.preventDefault(),m(!1))}}):e.createElement(e.Fragment,null,e.createElement("div",{className:"link-input"},e.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},c),e.createElement("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){m(!0)}})),e.createElement(Rn,{url:c})))}function Gn(t){var n=t.onClick,r=e.useState(""),i=r[0],a=r[1],o=e.useState(""),l=o[0],c=o[1],s=""===i;return e.createElement(e.Fragment,null,e.createElement(pn,{label:"Image URL",placeholder:"i.e. https://source.unsplash.com/random",onChange:a,value:i,"data-test-id":"image-modal-url-input"}),e.createElement(pn,{label:"Alt Text",placeholder:"Random unsplash image",onChange:c,value:l,"data-test-id":"image-modal-alt-text-input"}),e.createElement("div",{className:"ToolbarPlugin__dialogActions"},e.createElement(oe,{"data-test-id":"image-modal-confirm-btn",disabled:s,onClick:function(){return n({altText:l,src:i})}},"Confirm")))}function Un(t){var n=t.onClick,r=e.useState(""),i=r[0],a=r[1],o=e.useState(""),l=o[0],c=o[1],s=""===i;return e.createElement(e.Fragment,null,e.createElement(_n,{label:"Image Upload",onChange:function(e){var t=new FileReader;t.onload=function(){return"string"==typeof t.result&&a(t.result),""},null!==e&&t.readAsDataURL(e[0])},accept:"image/*","data-test-id":"image-modal-file-upload"}),e.createElement(pn,{label:"Alt Text",placeholder:"Descriptive alternative text",onChange:c,value:l,"data-test-id":"image-modal-alt-text-input"}),e.createElement("div",{className:"ToolbarPlugin__dialogActions"},e.createElement(oe,{"data-test-id":"image-modal-file-upload-btn",disabled:s,onClick:function(){return n({altText:l,src:i})}},"Confirm")))}function Vn(t){var n=t.activeEditor,r=t.onClose,i=e.useState(null),a=i[0],o=i[1],l=function(e){n.dispatchCommand(St,e),r()};return e.createElement(e.Fragment,null,!a&&e.createElement("div",{className:"ToolbarPlugin__dialogButtonsList"},e.createElement(oe,{"data-test-id":"image-modal-option-url",onClick:function(){return o("url")}},"URL"),e.createElement(oe,{"data-test-id":"image-modal-option-file",onClick:function(){return o("file")}},"File")),"url"===a&&e.createElement(Gn,{onClick:l}),"file"===a&&e.createElement(Un,{onClick:l}))}function Xn(t){var n=t.activeEditor,r=t.onClose,i=e.useState("5"),a=i[0],o=i[1],l=e.useState("5"),c=l[0],s=l[1];return e.createElement(e.Fragment,null,e.createElement(pn,{label:"No of rows",onChange:o,value:a}),e.createElement(pn,{label:"No of columns",onChange:s,value:c}),e.createElement("div",{className:"ToolbarPlugin__dialogActions","data-test-id":"table-model-confirm-insert"},e.createElement(oe,{onClick:function(){n.dispatchCommand(S.INSERT_TABLE_COMMAND,{columns:c,rows:a}),r()}},"Confirm")))}function Zn(t){var n=t.activeEditor,r=t.onClose,i=e.useState(""),a=i[0];return e.createElement(e.Fragment,null,e.createElement(pn,{label:"Question",onChange:i[1],value:a}),e.createElement("div",{className:"ToolbarPlugin__dialogActions"},e.createElement(oe,{disabled:""===a.trim(),onClick:function(){n.dispatchCommand(Ht,a),r()}},"Confirm")))}var Qn=/twitter.com\/[0-9a-zA-Z]{1,20}\/status\/([0-9]*)/g;function er(t){var n=t.activeEditor,r=t.onClose,i=e.useState(""),a=i[0],o=i[1],l=""===a||!a.match(Qn);return e.createElement(e.Fragment,null,e.createElement(pn,{label:"Tweet URL",placeholder:"i.e. https://twitter.com/jack/status/20",onChange:o,value:a}),e.createElement("div",{className:"ToolbarPlugin__dialogActions"},e.createElement(oe,{disabled:l,onClick:function(){var e,t=null==(e=a.split("status/"))||null==(e=e[1])||null==(e=e.split("?"))?void 0:e[0];n.dispatchCommand(Dn,t),r()}},"Confirm")))}var tr=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,nr=function(e){var t=e.match(tr);return 11===(null==t?void 0:t[2].length)?t[2]:null};function rr(t){var n=t.activeEditor,r=t.onClose,i=e.useState(""),a=i[0],o=i[1],l=""===a||!nr(a);return e.createElement(e.Fragment,null,e.createElement(pn,{"data-test-id":"youtube-embed-modal-url",label:"YouTube URL",placeholder:"i.e. https://www.youtube.com/watch?v=jNQXAC9IVRw",onChange:o,value:a}),e.createElement("div",{className:"ToolbarPlugin__dialogActions"},e.createElement(oe,{"data-test-id":"youtube-embed-modal-submit-btn",disabled:l,onClick:function(){var e=nr(a);e&&n.dispatchCommand(Bn,e),r()}},"Confirm")))}function ir(t){var n=t.activeEditor,r=t.onClose,i=e.useCallback((function(e,t){n.dispatchCommand(qe,{equation:e,inline:t}),r()}),[n,r]);return e.createElement(xn,{onConfirm:i})}function ar(e){return e?"active dropdown-item-active":""}function or(t){var n=t.editor,i=t.blockType,a=function(e){i!==e&&n.update((function(){var e=o.$getSelection();o.$isRangeSelection(e)}))};return e.createElement(mn,{buttonClassName:"toolbar-item block-controls",buttonIconClassName:"icon block-type "+i,buttonLabel:Kn[i],buttonAriaLabel:"Formatting options for text style"},e.createElement(un,{className:"item "+ar("paragraph"===i),onClick:function(){"paragraph"!==i&&n.update((function(){var e=o.$getSelection();o.$isRangeSelection(e)}))}},e.createElement("i",{className:"icon paragraph"}),e.createElement("span",{className:"text"},"Normal")),e.createElement(un,{className:"item "+ar("h1"===i),onClick:function(){return a("h1")}},e.createElement("i",{className:"icon h1"}),e.createElement("span",{className:"text"},"Heading 1")),e.createElement(un,{className:"item "+ar("h2"===i),onClick:function(){return a("h2")}},e.createElement("i",{className:"icon h2"}),e.createElement("span",{className:"text"},"Heading 2")),e.createElement(un,{className:"item "+ar("h3"===i),onClick:function(){return a("h3")}},e.createElement("i",{className:"icon h3"}),e.createElement("span",{className:"text"},"Heading 3")),e.createElement(un,{className:"item "+ar("bullet"===i),onClick:function(){n.dispatchCommand("bullet"!==i?r.INSERT_UNORDERED_LIST_COMMAND:r.REMOVE_LIST_COMMAND,void 0)}},e.createElement("i",{className:"icon bullet-list"}),e.createElement("span",{className:"text"},"Bullet List")),e.createElement(un,{className:"item "+ar("number"===i),onClick:function(){n.dispatchCommand("number"!==i?r.INSERT_ORDERED_LIST_COMMAND:r.REMOVE_LIST_COMMAND,void 0)}},e.createElement("i",{className:"icon numbered-list"}),e.createElement("span",{className:"text"},"Numbered List")),e.createElement(un,{className:"item "+ar("check"===i),onClick:function(){n.dispatchCommand("check"!==i?r.INSERT_CHECK_LIST_COMMAND:r.REMOVE_LIST_COMMAND,void 0)}},e.createElement("i",{className:"icon check-list"}),e.createElement("span",{className:"text"},"Check List")),e.createElement(un,{className:"item "+ar("quote"===i),onClick:function(){"quote"!==i&&n.update((function(){var e=o.$getSelection();o.$isRangeSelection(e)}))}},e.createElement("i",{className:"icon quote"}),e.createElement("span",{className:"text"},"Quote")),e.createElement(un,{className:"item "+ar("code"===i),onClick:function(){"code"!==i&&n.update((function(){var e=o.$getSelection();if(o.$isRangeSelection(e))if(e.isCollapsed());else{var t=e.getTextContent(),n=g.$createCodeNode();e.insertNodes([n]),e.insertRawText(t)}}))}},e.createElement("i",{className:"icon code"}),e.createElement("span",{className:"text"},"Code Block")))}function lr(){return e.createElement("div",{className:"divider"})}function cr(t){return e.createElement("select",{className:t.className,onChange:t.onChange,value:t.value},t.options.map((function(t){var n=t[0];return e.createElement("option",{key:n,value:n},t[1])})))}function sr(){var t=h.useLexicalComposerContext()[0],i=e.useState(t),l=i[0],c=i[1],s=e.useState("paragraph"),u=s[0],d=s[1],m=e.useState(null),p=m[0],f=m[1],b=e.useState("15px"),C=b[0],N=b[1],w=e.useState("#000"),_=w[0],k=w[1],T=e.useState("#fff"),S=T[0],R=T[1],M=e.useState("Arial"),L=M[0],A=M[1],P=e.useState(!1),D=P[0],I=P[1],$=e.useState(!1),F=$[0],q=$[1],B=e.useState(!1),z=B[0],K=B[1],H=e.useState(!1),W=H[0],j=H[1],Y=e.useState(!1),J=Y[0],G=Y[1],U=e.useState(!1),V=U[0],X=U[1],Z=e.useState(!1),Q=Z[0],ee=Z[1],te=e.useState(!1),ne=te[0],re=te[1],ae=e.useState(!1),oe=ae[0],le=ae[1],ce=e.useState(!1),se=ce[0],ue=ce[1],de=ie(),me=de[0],pe=de[1],fe=e.useState(!1),ge=fe[0],he=fe[1],ve=e.useState(""),ye=ve[0],Ee=ve[1],be=e.useCallback((function(){var e=o.$getSelection();if(o.$isRangeSelection(e)){var t=e.anchor.getNode(),i="root"===t.getKey()?t:t.getTopLevelElementOrThrow(),c=i.getKey(),s=l.getElementByKey(c);q(e.hasFormat("bold")),K(e.hasFormat("italic")),j(e.hasFormat("underline")),G(e.hasFormat("strikethrough")),X(e.hasFormat("subscript")),ee(e.hasFormat("superscript")),re(e.hasFormat("code")),he(y.$isParentElementRTL(e));var u=jn(e),m=u.getParent();if(n.$isLinkNode(m)||n.$isLinkNode(u)?I(!0):I(!1),null!==s)if(f(c),r.$isListNode(i)){var p=E.$getNearestNodeOfType(t,r.ListNode),h=p?p.getListType():i.getListType();d(h)}else{var v=a.$isHeadingNode(i)?i.getTag():i.getType();if(v in Kn&&d(v),g.$isCodeNode(i)){var b=i.getLanguage();return void Ee(b?Wn[b]||b:"")}}N(y.$getSelectionStyleValueForProperty(e,"font-size","15px")),k(y.$getSelectionStyleValueForProperty(e,"color","#000")),R(y.$getSelectionStyleValueForProperty(e,"background-color","#fff")),A(y.$getSelectionStyleValueForProperty(e,"font-family","Arial"))}}),[l]);e.useEffect((function(){return t.registerCommand(o.SELECTION_CHANGE_COMMAND,(function(e,t){return be(),c(t),!1}),o.COMMAND_PRIORITY_CRITICAL)}),[t,be]),e.useEffect((function(){return E.mergeRegister(l.registerUpdateListener((function(e){e.editorState.read((function(){be()}))})),l.registerCommand(o.CAN_UNDO_COMMAND,(function(e){return le(e),!1}),o.COMMAND_PRIORITY_CRITICAL),l.registerCommand(o.CAN_REDO_COMMAND,(function(e){return ue(e),!1}),o.COMMAND_PRIORITY_CRITICAL))}),[l,be]);var Ce=e.useCallback((function(e){l.update((function(){var t=o.$getSelection();o.$isRangeSelection(t)&&y.$patchStyleText(t,e)}))}),[l]),Ne=e.useCallback((function(){l.update((function(){var e=o.$getSelection();o.$isRangeSelection(e)&&(y.$selectAll(e),e.getNodes().forEach((function(e){o.$isTextNode(e)&&(e.setFormat(0),e.setStyle(""),E.$getNearestBlockElementAncestorOrThrow(e).setFormat("")),O.$isDecoratorBlockNode(e)&&e.setFormat("")})))}))}),[l]),we=e.useCallback((function(e){Ce({"font-size":e.target.value})}),[Ce]),_e=e.useCallback((function(e){Ce({color:e})}),[Ce]),xe=e.useCallback((function(e){Ce({"background-color":e})}),[Ce]),ke=e.useCallback((function(e){Ce({"font-family":e.target.value})}),[Ce]),Te=e.useCallback((function(){t.dispatchCommand(n.TOGGLE_LINK_COMMAND,D?null:"https://")}),[t,D]),Se=e.useCallback((function(e){l.update((function(){if(null!==p){var t=o.$getNodeByKey(p);g.$isCodeNode(t)&&t.setLanguage(e.target.value)}}))}),[l,p]);return e.createElement("div",{className:"toolbar"},e.createElement("button",{disabled:!oe,onClick:function(){l.dispatchCommand(o.UNDO_COMMAND,void 0)},title:rn?"Undo (⌘Z)":"Undo (Ctrl+Z)",className:"toolbar-item spaced","aria-label":"Undo"},e.createElement("i",{className:"format undo"})),e.createElement("button",{disabled:!se,onClick:function(){l.dispatchCommand(o.REDO_COMMAND,void 0)},title:rn?"Redo (⌘Y)":"Undo (Ctrl+Y)",className:"toolbar-item","aria-label":"Redo"},e.createElement("i",{className:"format redo"})),e.createElement(lr,null),u in Kn&&l===t&&e.createElement(e.Fragment,null,e.createElement(or,{blockType:u,editor:t}),e.createElement(lr,null)),"code"===u?e.createElement(e.Fragment,null,e.createElement(cr,{className:"toolbar-item code-language",onChange:Se,options:Hn,value:ye}),e.createElement("i",{className:"chevron-down inside"})):e.createElement(e.Fragment,null,e.createElement(e.Fragment,null,e.createElement(cr,{className:"toolbar-item font-family",onChange:ke,options:[["Arial","Arial"],["Courier New","Courier New"],["Georgia","Georgia"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]],value:L}),e.createElement("i",{className:"chevron-down inside"})),e.createElement(e.Fragment,null,e.createElement(cr,{className:"toolbar-item font-size",onChange:we,options:[["10px","10px"],["11px","11px"],["12px","12px"],["13px","13px"],["14px","14px"],["15px","15px"],["16px","16px"],["17px","17px"],["18px","18px"],["19px","19px"],["20px","20px"]],value:C}),e.createElement("i",{className:"chevron-down inside"})),e.createElement(lr,null),e.createElement("button",{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+(F?"active":""),title:rn?"Bold (⌘B)":"Bold (Ctrl+B)","aria-label":"Format text as bold. Shortcut: "+(rn?"⌘B":"Ctrl+B")},e.createElement("i",{className:"format bold"})),e.createElement("button",{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(z?"active":""),title:rn?"Italic (⌘I)":"Italic (Ctrl+I)","aria-label":"Format text as italics. Shortcut: "+(rn?"⌘I":"Ctrl+I")},e.createElement("i",{className:"format italic"})),e.createElement("button",{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(W?"active":""),title:rn?"Underline (⌘U)":"Underline (Ctrl+U)","aria-label":"Format text to underlined. Shortcut: "+(rn?"⌘U":"Ctrl+U")},e.createElement("i",{className:"format underline"})),e.createElement("button",{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(ne?"active":""),title:"Insert code block","aria-label":"Insert code block"},e.createElement("i",{className:"format code"})),e.createElement("button",{onClick:Te,className:"toolbar-item spaced "+(D?"active":""),"aria-label":"Insert link",title:"Insert link"},e.createElement("i",{className:"format link"})),D&&v.createPortal(e.createElement(Jn,{editor:l}),document.body),e.createElement(hn,{buttonClassName:"toolbar-item color-picker",buttonAriaLabel:"Formatting text color",buttonIconClassName:"icon font-color",color:_,onChange:_e,title:"text color"}),e.createElement(hn,{buttonClassName:"toolbar-item color-picker",buttonAriaLabel:"Formatting background color",buttonIconClassName:"icon bg-color",color:S,onChange:xe,title:"bg color"}),e.createElement(mn,{buttonClassName:"toolbar-item spaced",buttonLabel:"",buttonAriaLabel:"Formatting options for additional text styles",buttonIconClassName:"icon dropdown-more"},e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"strikethrough")},className:"item "+ar(J),title:"Strikethrough","aria-label":"Format text with a strikethrough"},e.createElement("i",{className:"icon strikethrough"}),e.createElement("span",{className:"text"},"Strikethrough")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"subscript")},className:"item "+ar(V),title:"Subscript","aria-label":"Format text with a subscript"},e.createElement("i",{className:"icon subscript"}),e.createElement("span",{className:"text"},"Subscript")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_TEXT_COMMAND,"superscript")},className:"item "+ar(Q),title:"Superscript","aria-label":"Format text with a superscript"},e.createElement("i",{className:"icon superscript"}),e.createElement("span",{className:"text"},"Superscript")),e.createElement(un,{onClick:Ne,className:"item",title:"Clear text formatting","aria-label":"Clear all text formatting"},e.createElement("i",{className:"icon clear"}),e.createElement("span",{className:"text"},"Clear Formatting"))),e.createElement(lr,null),e.createElement(mn,{buttonClassName:"toolbar-item spaced",buttonLabel:"Insert",buttonAriaLabel:"Insert specialized editor node",buttonIconClassName:"icon plus"},e.createElement(un,{onClick:function(){l.dispatchCommand(x.INSERT_HORIZONTAL_RULE_COMMAND,void 0)},className:"item"},e.createElement("i",{className:"icon horizontal-rule"}),e.createElement("span",{className:"text"},"Horizontal Rule")),e.createElement(un,{onClick:function(){pe("Insert Image",(function(t){return e.createElement(Vn,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon image"}),e.createElement("span",{className:"text"},"Image")),e.createElement(un,{onClick:function(){l.dispatchCommand(Ve,void 0)},className:"item"},e.createElement("i",{className:"icon diagram-2"}),e.createElement("span",{className:"text"},"Excalidraw")),e.createElement(un,{onClick:function(){pe("Insert Table",(function(t){return e.createElement(Xn,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon table"}),e.createElement("span",{className:"text"},"Table")),e.createElement(un,{onClick:function(){pe("Insert Poll",(function(t){return e.createElement(Zn,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon poll"}),e.createElement("span",{className:"text"},"Poll")),e.createElement(un,{onClick:function(){pe("Insert Tweet",(function(t){return e.createElement(er,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon tweet"}),e.createElement("span",{className:"text"},"Tweet")),e.createElement(un,{onClick:function(){pe("Insert YouTube Video",(function(t){return e.createElement(rr,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon youtube"}),e.createElement("span",{className:"text"},"YouTube Video")),e.createElement(un,{onClick:function(){pe("Insert Equation",(function(t){return e.createElement(ir,{activeEditor:l,onClose:t})}))},className:"item"},e.createElement("i",{className:"icon equation"}),e.createElement("span",{className:"text"},"Equation")),e.createElement(un,{onClick:function(){t.update((function(){var e=o.$getRoot(),t=new ln(0,0,"yellow");e.append(t)}))},className:"item"},e.createElement("i",{className:"icon sticky"}),e.createElement("span",{className:"text"},"Sticky Note")))),e.createElement(lr,null),e.createElement(mn,{buttonLabel:"Align",buttonIconClassName:"icon left-align",buttonClassName:"toolbar-item spaced alignment",buttonAriaLabel:"Formatting options for text alignment"},e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_ELEMENT_COMMAND,"left")},className:"item"},e.createElement("i",{className:"icon left-align"}),e.createElement("span",{className:"text"},"Left Align")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_ELEMENT_COMMAND,"center")},className:"item"},e.createElement("i",{className:"icon center-align"}),e.createElement("span",{className:"text"},"Center Align")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_ELEMENT_COMMAND,"right")},className:"item"},e.createElement("i",{className:"icon right-align"}),e.createElement("span",{className:"text"},"Right Align")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.FORMAT_ELEMENT_COMMAND,"justify")},className:"item"},e.createElement("i",{className:"icon justify-align"}),e.createElement("span",{className:"text"},"Justify Align")),e.createElement(lr,null),e.createElement(un,{onClick:function(){l.dispatchCommand(o.OUTDENT_CONTENT_COMMAND,void 0)},className:"item"},e.createElement("i",{className:"icon "+(ge?"indent":"outdent")}),e.createElement("span",{className:"text"},"Outdent")),e.createElement(un,{onClick:function(){l.dispatchCommand(o.INDENT_CONTENT_COMMAND,void 0)},className:"item"},e.createElement("i",{className:"icon "+(ge?"outdent":"indent")}),e.createElement("span",{className:"text"},"Indent"))),me)}function ur(t){return e.createElement("div",{className:t.className||"Placeholder__root"},t.children)}function dr(){var t=te().historyState,n=Z().settings,r=n.isAutocomplete,i=n.isMaxLength,a=n.isRichText,o=n.showTreeView,g=(e.createElement(ur,null,n.isCollab?"Enter some collaborative rich text...":a?"Enter some rich text...":"Enter some plain text..."),e.useRef(null));return e.createElement(e.Fragment,null,a&&e.createElement(sr,null),e.createElement("div",{className:"editor-container "+(o?"tree-view":"")+" "+(a?"":"plain-text"),ref:g},i&&e.createElement(Pt,{maxLength:30}),e.createElement(c.AutoFocusPlugin,null),e.createElement(u.ClearEditorPlugin,null),e.createElement(vt,null),e.createElement(Me,null),e.createElement(d.HashtagPlugin,null),e.createElement(nt,null),e.createElement(Gt,null),e.createElement(Ne,null),a?e.createElement(e.Fragment,null,e.createElement(xe,null),e.createElement(p.ListPlugin,null),e.createElement(s.CheckListPlugin,null),e.createElement(At,{maxDepth:7}),e.createElement(f.TablePlugin,null),e.createElement(bt,null),e.createElement(Qt,null),e.createElement(Ot,null),e.createElement(m.LinkPlugin,null),e.createElement(Wt,null),e.createElement(In,null),e.createElement(zn,null),e.createElement(we,null),e.createElement(Ze,null),e.createElement(nn,null),e.createElement(Be,null),e.createElement(Xe,null),e.createElement(Xt,null)):e.createElement(e.Fragment,null,e.createElement(l.HistoryPlugin,{externalHistoryState:t})),r&&e.createElement(he,null),e.createElement(le,{isRichText:a})))}var mr=[a.HeadingNode,r.ListNode,r.ListItemNode,a.QuoteNode,g.CodeNode,S.TableNode,S.TableCellNode,S.TableRowNode,M.HashtagNode,g.CodeHighlightNode,n.AutoLinkNode,n.LinkNode,A.OverflowNode,Bt,ln,xt,at,ke,Je,$e,se,function(e){function t(){return e.apply(this,arguments)||this}J(t,e),t.clone=function(e){return new t(e.__text,e.__key)},t.getType=function(){return"typeahead"};var n=t.prototype;return n.exportJSON=function(){return Y({},e.prototype.exportJSON.call(this),{type:"typeahead",version:1})},n.createDOM=function(t){var n=e.prototype.createDOM.call(this,t);return n.style.cssText="color: #ccc;",n},t}(o.TextNode),Qe,x.HorizontalRuleNode,An,Fn,L.MarkNode],pr=function(e){var t=function(e,t){switch(e){case"click":return"      await page.mouse.click("+t.x+", "+t.y+");";case"press":return"      await page.keyboard.press('"+t+"');";case"keydown":return"      await page.keyboard.keydown('"+t+"');";case"keyup":return"      await page.keyboard.keyup('"+t+"');";case"type":return"      await page.keyboard.type('"+t+"');";case"selectAll":return"      await selectAll(page);";case"snapshot":return"      await assertHTMLSnapshot(page);\n      await assertSelection(page, {\n        anchorPath: ["+t.anchorPath.toString()+"],\n        anchorOffset: "+t.anchorOffset+",\n        focusPath: ["+t.focusPath.toString()+"],\n        focusOffset: "+t.focusOffset+",\n      });\n";default:return""}}(e.name,e.value);switch(e.count){case 1:return t;case 2:return[t,t].join("\n");default:return"      await repeat("+e.count+", async () => {\n  "+t+"\n      );"}};function fr(e,t){for(var n=e,r=[];n!==t;){var i,a,o;null!=n&&r.unshift(Array.from(null!=(a=null==(o=n)||null==(o=o.parentNode)?void 0:o.childNodes)?a:[]).indexOf(n)),n=null==(i=n)?void 0:i.parentNode}return r}var gr=new Set(["Enter","Backspace","Delete","Escape","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]);function hr(){var t=function(t){var n=e.useState([]),r=n[0],i=n[1],a=e.useState(!1),l=a[0],c=a[1],s=e.useState("")[1],u=e.useState(""),d=u[0],m=u[1],p=e.useRef(null),f=e.useRef(!1),g=e.useRef(null),h=e.useCallback((function(){return t}),[t]),v=e.useCallback((function(){var e=t.getRootElement(),n=window.getSelection();return null!=e&&null!=n&&null!=n.anchorNode&&null!=n.focusNode&&e.contains(n.anchorNode)&&e.contains(n.focusNode)?"\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport {\n  initializeE2E,\n  assertHTMLSnapshot,\n  assertSelection,\n  repeat,\n} from '../utils';\nimport {selectAll} from '../keyboardShortcuts';\nimport { RangeSelection } from 'lexical';\nimport { NodeSelection } from 'lexical';\n\ndescribe('Test case', () => {\n  initializeE2E((e2e) => {\n    it('Should pass this test', async () => {\n      const {page} = e2e;\n\n      await page.focus('div[contenteditable=\"true\"]');\n"+r.map(pr).join("\n")+"\n    });\n});\n    ":null}),[t,r]),y=e.useCallback((function(e,t){i((function(n){var i=r.length-1,a=r[i];if(a&&a.name===e){if("type"===e)return[].concat(r.slice(0,i),[Y({},a,{value:a.value+t})]);if(a.value===t)return[].concat(r.slice(0,i),[Y({},a,{count:a.count+1})])}return[].concat(n,[{count:1,name:e,value:t}])}))}),[r,i]);rt((function(){var e=function(e){if(l){var t=e.key;!function(e){return 65===e.keyCode&&(rn?e.metaKey:e.ctrlKey)}(e)?gr.has(t)?y("press",e.key):[].concat(t).length>1?y("keydown",e.key):y("type",e.key):y("selectAll","")}},n=function(e){if(l){var t=e.key;!gr.has(t)&&[].concat(t).length>1&&y("keyup",e.key)}};return t.registerRootListener((function(t,r){null!==r&&(r.removeEventListener("keydown",e),r.removeEventListener("keyup",n)),null!==t&&(t.addEventListener("keydown",e),t.addEventListener("keyup",n))}))}),[t,l,y]),rt((function(){g.current&&g.current.scrollTo(0,g.current.scrollHeight)}),[v]),e.useEffect((function(){if(r){var e=v();null!==e&&m(e),g.current&&g.current.scrollTo(0,g.current.scrollHeight)}}),[v,r]),e.useEffect((function(){return t.registerUpdateListener((function(e){if(l){if(p.current!==e.editorState._selection&&0===e.dirtyLeaves.size&&0===e.dirtyElements.size&&!f.current){var t=window.getSelection();if(t&&(null==t.anchorNode||null==t.focusNode))return}f.current=!1;var n=v();null!==n&&m(n)}}))}),[t,v,l,y]),e.useEffect((function(){if(l)return t.registerUpdateListener((function(){var e=t.getRootElement();null!==e&&s(null==e?void 0:e.innerHTML)}))}),[t,l]);var E=e.useCallback((function(e){l||(e.update((function(){var e=o.$getRoot();e.clear();var t=o.$createTextNode();e.append(o.$createParagraphNode().append(t)),t.select()})),i([])),c((function(e){return!e}))}),[l]),b=e.useCallback((function(){if(l){var e=window.getSelection();if(null!==e&&null!=e.anchorNode&&null!=e.focusNode){var t,n,r=function(e){var t=e.anchorOffset,n=e.focusOffset;return 0!==t&&t--,0!==n&&n--,{anchorNode:e.anchorNode,anchorOffset:t,focusNode:e.focusNode,focusOffset:n}}(e),i=r.anchorNode,a=r.anchorOffset,o=r.focusNode,c=r.focusOffset,s=h().getRootElement();null!==i&&(t=fr(i,s)),null!==o&&(n=fr(o,s)),y("snapshot",{anchorNode:i,anchorOffset:a,anchorPath:t,focusNode:o,focusOffset:c,focusPath:n})}}}),[y,l,h]),C=e.useCallback((function(){!function(e){var t,n,r=document.createElement("textarea");r.value=e||"",r.style.position="absolute",r.style.opacity="0",null==(t=document.body)||t.appendChild(r),r.focus(),r.select();try{var i=document.execCommand("copy");console.log(i)}catch(e){console.error(e)}null==(n=document.body)||n.removeChild(r)}(v())}),[v]),N=e.useCallback((function(){var e,t,n,r;e=v(),(r=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e||"")),r.setAttribute("download","test.js"),r.style.display="none",null==(t=document.body)||t.appendChild(r),r.click(),null==(n=document.body)||n.removeChild(r)}),[v]);return[e.createElement("button",{id:"test-recorder-button",className:"editor-dev-button "+(l?"active":""),onClick:function(){return E(h())},title:l?"Disable test recorder":"Enable test recorder"}),l?e.createElement("div",{className:"test-recorder-output"},e.createElement("div",{className:"test-recorder-toolbar"},e.createElement("button",{className:"test-recorder-button",id:"test-recorder-button-snapshot",title:"Insert snapshot",onClick:b}),e.createElement("button",{className:"test-recorder-button",id:"test-recorder-button-copy",title:"Copy to clipboard",onClick:C}),e.createElement("button",{className:"test-recorder-button",id:"test-recorder-button-download",title:"Download as a file",onClick:N})),e.createElement("pre",{id:"test-recorder",ref:g},d)):null]}(h.useLexicalComposerContext()[0]);return e.createElement(e.Fragment,null,t[0],t[1])}function vr(t){var n=t.checked,r=t.onClick,i=t.text,a=t.id,o=e.useMemo((function(){return"id_"+Math.floor(1e4*Math.random())}),[]);return e.createElement("div",{className:"switch",id:a},e.createElement("label",{htmlFor:o},i),e.createElement("button",{role:"switch","aria-checked":n,id:o,onClick:r},e.createElement("span",null)))}function yr(){var t=window.location,n=Z(),r=n.setOption,i=n.settings,a=i.measureTypingPerf,o=i.isCollab,l=i.isRichText,c=i.isMaxLength,s=i.isCharLimit,u=i.isCharLimitUtf8,d=i.isAutocomplete,m=i.showTreeView,p=i.showNestedEditorTreeView,f=i.disableBeforeInput,g=e.useState(!1),h=g[0],v=g[1],y=e.useMemo((function(){var e=window.parent;return[e&&"/split/"===e.location.pathname,t.search]}),[t]),E=y[0],b=y[1];return e.createElement(e.Fragment,null,e.createElement("button",{id:"options-button",className:"editor-dev-button "+(h?"active":""),onClick:function(){return v(!h)}}),h?e.createElement("div",{className:"switches"},l&&D&&e.createElement(vr,{onClick:function(){r("isCollab",!o),window.location.reload()},checked:o,text:"Collaboration"}),D&&e.createElement(vr,{onClick:function(){E?window.parent.location.href="/"+b:window.location.href="/split/"+b},checked:E,text:"Split Screen"}),e.createElement(vr,{onClick:function(){return r("measureTypingPerf",!a)},checked:a,text:"Measure Perf"}),e.createElement(vr,{onClick:function(){return r("showTreeView",!m)},checked:m,text:"Debug View"}),e.createElement(vr,{onClick:function(){return r("showNestedEditorTreeView",!p)},checked:p,text:"Nested Editors Debug View"}),e.createElement(vr,{onClick:function(){r("isRichText",!l),r("isCollab",!1)},checked:l,text:"Rich Text"}),e.createElement(vr,{onClick:function(){return r("isCharLimit",!s)},checked:s,text:"Char Limit"}),e.createElement(vr,{onClick:function(){return r("isCharLimitUtf8",!u)},checked:u,text:"Char Limit (UTF-8)"}),e.createElement(vr,{onClick:function(){return r("isMaxLength",!c)},checked:c,text:"Max Length"}),e.createElement(vr,{onClick:function(){return r("isAutocomplete",!d)},checked:d,text:"Autocomplete"}),e.createElement(vr,{onClick:function(){r("disableBeforeInput",!f),setTimeout((function(){return window.location.reload()}),500)},checked:f,text:"Legacy Events"})):null)}var Er={characterLimit:"PlaygroundEditorTheme__characterLimit",code:"PlaygroundEditorTheme__code",codeHighlight:{atrule:"PlaygroundEditorTheme__tokenAttr",attr:"PlaygroundEditorTheme__tokenAttr",boolean:"PlaygroundEditorTheme__tokenProperty",builtin:"PlaygroundEditorTheme__tokenSelector",cdata:"PlaygroundEditorTheme__tokenComment",char:"PlaygroundEditorTheme__tokenSelector",class:"PlaygroundEditorTheme__tokenFunction","class-name":"PlaygroundEditorTheme__tokenFunction",comment:"PlaygroundEditorTheme__tokenComment",constant:"PlaygroundEditorTheme__tokenProperty",deleted:"PlaygroundEditorTheme__tokenProperty",doctype:"PlaygroundEditorTheme__tokenComment",entity:"PlaygroundEditorTheme__tokenOperator",function:"PlaygroundEditorTheme__tokenFunction",important:"PlaygroundEditorTheme__tokenVariable",inserted:"PlaygroundEditorTheme__tokenSelector",keyword:"PlaygroundEditorTheme__tokenAttr",namespace:"PlaygroundEditorTheme__tokenVariable",number:"PlaygroundEditorTheme__tokenProperty",operator:"PlaygroundEditorTheme__tokenOperator",prolog:"PlaygroundEditorTheme__tokenComment",property:"PlaygroundEditorTheme__tokenProperty",punctuation:"PlaygroundEditorTheme__tokenPunctuation",regex:"PlaygroundEditorTheme__tokenVariable",selector:"PlaygroundEditorTheme__tokenSelector",string:"PlaygroundEditorTheme__tokenSelector",symbol:"PlaygroundEditorTheme__tokenProperty",tag:"PlaygroundEditorTheme__tokenProperty",url:"PlaygroundEditorTheme__tokenOperator",variable:"PlaygroundEditorTheme__tokenVariable"},embedBlock:{base:"PlaygroundEditorTheme__embedBlock",focus:"PlaygroundEditorTheme__embedBlockFocus"},hashtag:"PlaygroundEditorTheme__hashtag",heading:{h1:"PlaygroundEditorTheme__h1",h2:"PlaygroundEditorTheme__h2",h3:"PlaygroundEditorTheme__h3",h4:"PlaygroundEditorTheme__h4",h5:"PlaygroundEditorTheme__h5",h6:"PlaygroundEditorTheme__h6"},image:"editor-image",link:"PlaygroundEditorTheme__link",list:{listitem:"PlaygroundEditorTheme__listItem",listitemChecked:"PlaygroundEditorTheme__listItemChecked",listitemUnchecked:"PlaygroundEditorTheme__listItemUnchecked",nested:{listitem:"PlaygroundEditorTheme__nestedListItem"},olDepth:["PlaygroundEditorTheme__ol1","PlaygroundEditorTheme__ol2","PlaygroundEditorTheme__ol3","PlaygroundEditorTheme__ol4","PlaygroundEditorTheme__ol5"],ul:"PlaygroundEditorTheme__ul"},ltr:"PlaygroundEditorTheme__ltr",mark:"PlaygroundEditorTheme__mark",markOverlap:"PlaygroundEditorTheme__markOverlap",paragraph:"PlaygroundEditorTheme__paragraph",quote:"PlaygroundEditorTheme__quote",rtl:"PlaygroundEditorTheme__rtl",table:"PlaygroundEditorTheme__table",tableCell:"PlaygroundEditorTheme__tableCell",tableCellHeader:"PlaygroundEditorTheme__tableCellHeader",text:{bold:"PlaygroundEditorTheme__textBold",code:"PlaygroundEditorTheme__textCode",italic:"PlaygroundEditorTheme__textItalic",strikethrough:"PlaygroundEditorTheme__textStrikethrough",subscript:"PlaygroundEditorTheme__textSubscript",superscript:"PlaygroundEditorTheme__textSuperscript",underline:"PlaygroundEditorTheme__textUnderline",underlineStrikethrough:"PlaygroundEditorTheme__textUnderlineStrikethrough"}};function br(){var e=o.$getRoot();if(null===e.getFirstChild()){var t=a.$createHeadingNode("h1");t.append(o.$createTextNode("Welcome to the playground")),e.append(t);var i=a.$createQuoteNode();i.append(o.$createTextNode("In case you were wondering what the black box at the bottom is – it's the debug view, showing the current state of editor. You can disable it by pressing on the settings control in the bottom-left of your screen and toggling the debug view setting.")),e.append(i);var l=o.$createParagraphNode();l.append(o.$createTextNode("The playground is a demo environment built with "),o.$createTextNode("@lexical/react").toggleFormat("code"),o.$createTextNode("."),o.$createTextNode(" Try typing in "),o.$createTextNode("some text").toggleFormat("bold"),o.$createTextNode(" with "),o.$createTextNode("different").toggleFormat("italic"),o.$createTextNode(" formats.")),e.append(l);var c=o.$createParagraphNode();c.append(o.$createTextNode("Make sure to check out the various plugins in the toolbar. You can also use #hashtags or @-mentions too!")),e.append(c);var s=o.$createParagraphNode();s.append(o.$createTextNode("If you'd like to find out more about Lexical, you can:")),e.append(s);var u=r.$createListNode("bullet");u.append(r.$createListItemNode().append(o.$createTextNode("Visit the "),n.$createLinkNode("https://lexical.dev/").append(o.$createTextNode("Lexical website")),o.$createTextNode(" for documentation and more information.")),r.$createListItemNode().append(o.$createTextNode("Check out the code on our "),n.$createLinkNode("https://github.com/facebook/lexical").append(o.$createTextNode("GitHub repository")),o.$createTextNode(".")),r.$createListItemNode().append(o.$createTextNode("Playground code can be found "),n.$createLinkNode("https://github.com/facebook/lexical/tree/main/packages/lexical-playground").append(o.$createTextNode("here")),o.$createTextNode(".")),r.$createListItemNode().append(o.$createTextNode("Join our "),n.$createLinkNode("https://discord.com/invite/KmG4wQnnD9").append(o.$createTextNode("Discord Server")),o.$createTextNode(" and chat with the team."))),e.append(u);var d=o.$createParagraphNode();d.append(o.$createTextNode("Lastly, we're constantly adding cool new features to this playground. So make sure you check back here when you next get a chance :).")),e.append(d)}}function Cr(){var t=Z().settings,n={editorState:t.isCollab?null:t.emptyEditor?void 0:br,namespace:"Playground",nodes:[].concat(mr),onError:function(e){throw e},theme:Er};return e.createElement(i.LexicalComposer,{initialConfig:n},e.createElement(ee,null,e.createElement("header",null,e.createElement("a",{href:"https://lexical.dev",target:"_blank",rel:"noopener"})),e.createElement("div",{className:"editor-shell"},e.createElement(dr,null)),e.createElement(yr,null),D?e.createElement(hr,null):null))}console.warn("If you are profiling the playground app, please ensure you turn off the debug view. You can disable it by pressing on the settings control in the bottom-left of your screen and toggling the debug view setting.");var Nr=function(e){var t=customElements.get("vite-error-overlay");if(t){var n=new t(e),r=document.body;null!==r&&r.appendChild(n)}};window.addEventListener("error",Nr),window.addEventListener("unhandledrejection",(function(e){return Nr(e.reason)})),t.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement((function(){return e.createElement(X,null,e.createElement(Cr,null),e.createElement("a",{href:"https://github.com/facebook/lexical/tree/main/packages/lexical-playground",className:"github-corner","aria-label":"View source on GitHub"},e.createElement("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{border:"0",color:"#eee",fill:"#222",left:"0",position:"absolute",top:"0",transform:"scale(-1,1)"},"aria-hidden":"true"},e.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),e.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"octo-arm"}),e.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"}))))}),null)));
//# sourceMappingURL=text-page.cjs.production.min.js.map
